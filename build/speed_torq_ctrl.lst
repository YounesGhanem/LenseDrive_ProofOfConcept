ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 2
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"speed_torq_ctrl.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.STC_Init,"ax",%progbits
  20              		.align	1
  21              		.p2align 2,,3
  22              		.weak	STC_Init
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	STC_Init:
  28              	.LVL0:
  29              	.LFB1088:
  30              		.file 1 "MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c"
   1:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
   2:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   ******************************************************************************
   3:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @file    speed_torq_ctrl.c
   4:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @author  Motor Control SDK Team, ST Microelectronics
   5:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief   This file provides firmware functions that implement the following features
   6:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *          of the Speed & Torque Control component of the Motor Control SDK.
   7:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
   8:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   ******************************************************************************
   9:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @attention
  10:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
  11:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * <h2><center>&copy; Copyright (c) 2023 STMicroelectronics.
  12:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * All rights reserved.</center></h2>
  13:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
  14:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * This software component is licensed by ST under Ultimate Liberty license
  15:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * SLA0044, the "License"; You may not use this file except in compliance with
  16:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * the License. You may obtain a copy of the License at:
  17:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *                             www.st.com/SLA0044
  18:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
  19:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   ******************************************************************************
  20:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @ingroup SpeednTorqCtrlClassic
  21:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
  22:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
  23:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /* Includes ------------------------------------------------------------------*/
  24:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #include "speed_torq_ctrl.h"
  25:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #include "speed_pos_fdbk.h"
  26:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
  27:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #include "mc_type.h"
  28:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 2


  29:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #define CHECK_BOUNDARY
  30:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
  31:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /** @addtogroup MCSDK
  32:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @{
  33:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
  34:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
  35:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /** @defgroup SpeednTorqCtrl Speed & Torque Control
  36:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief Speed & Torque Control component of the Motor Control SDK
  37:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
  38:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * The MCSDK is able to control the motor in torque or in speed Mode.
  39:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * This component is used to manage torque or speed references and 
  40:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * torque or speed ramps.
  41:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
  42:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @{
  43:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
  44:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
  45:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /** @defgroup SpeednTorqCtrlClassic Classic Speed & Torque Control
  46:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief Speed & Torque Control component for the classic FOC drive
  47:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
  48:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * This component provides the Speed and Torque feature to the Classic
  49:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * FOC drive.
  50:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @{
  51:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
  52:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
  53:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
  54:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Initializes all the object variables.
  55:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
  56:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pPI: the PI object used as controller for the speed regulation.
  57:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         It can be equal to #MC_NULL if the STC is initialized in torque mode
  58:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         and it will never be configured in speed mode.
  59:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  SPD_Handle: the speed sensor used to perform the speed regulation.
  60:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         It can be equal to #MC_NULL if the STC is used only in torque mode.
  61:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval none.
  62:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
  63:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called once right after object creation at initialization of the whole MC core.
  64:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
  65:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak void STC_Init(SpeednTorqCtrl_Handle_t *pHandle, PID_Handle_t *pPI, SpeednPosFdbk_Handle_t *S
  66:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
  31              		.loc 1 66 1 view -0
  32              		.cfi_startproc
  33              		@ args = 0, pretend = 0, frame = 0
  34              		@ frame_needed = 0, uses_anonymous_args = 0
  35              		@ link register save eliminated.
  67:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
  68:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
  69:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
  70:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
  71:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
  72:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
  73:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
  74:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
  75:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->PISpeed = pPI;
  36              		.loc 1 75 5 view .LVU1
  76:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->SPD = SPD_Handle;
  77:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->Mode = pHandle->ModeDefault;
  78:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->SpeedRefUnitExt = ((int32_t)pHandle->MecSpeedRefUnitDefault) * 65536;
  37              		.loc 1 78 33 is_stmt 0 view .LVU2
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 3


  38 0000 B0F92CC0 		ldrsh	ip, [r0, #44]
  75:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->SPD = SPD_Handle;
  39              		.loc 1 75 22 view .LVU3
  40 0004 0161     		str	r1, [r0, #16]
  76:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->SPD = SPD_Handle;
  41              		.loc 1 76 5 is_stmt 1 view .LVU4
  79:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->TorqueRef = ((int32_t)pHandle->TorqueRefDefault) * 65536;
  42              		.loc 1 79 27 is_stmt 0 view .LVU5
  43 0006 B0F92E10 		ldrsh	r1, [r0, #46]
  44              	.LVL1:
  76:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->SPD = SPD_Handle;
  45              		.loc 1 76 18 view .LVU6
  46 000a 4261     		str	r2, [r0, #20]
  77:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->SpeedRefUnitExt = ((int32_t)pHandle->MecSpeedRefUnitDefault) * 65536;
  47              		.loc 1 77 5 is_stmt 1 view .LVU7
  78:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->TorqueRef = ((int32_t)pHandle->TorqueRefDefault) * 65536;
  48              		.loc 1 78 5 view .LVU8
  66:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
  49              		.loc 1 66 1 is_stmt 0 view .LVU9
  50 000c 10B4     		push	{r4}
  51              	.LCFI0:
  52              		.cfi_def_cfa_offset 4
  53              		.cfi_offset 4, -4
  77:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->SpeedRefUnitExt = ((int32_t)pHandle->MecSpeedRefUnitDefault) * 65536;
  54              		.loc 1 77 19 view .LVU10
  55 000e 90F82A40 		ldrb	r4, [r0, #42]	@ zero_extendqisi2
  56 0012 0470     		strb	r4, [r0]
  80:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->TargetFinal = 0;
  57              		.loc 1 80 26 view .LVU11
  58 0014 0023     		movs	r3, #0
  78:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->TorqueRef = ((int32_t)pHandle->TorqueRefDefault) * 65536;
  59              		.loc 1 78 75 view .LVU12
  60 0016 4FEA0C44 		lsl	r4, ip, #16
  79:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->TargetFinal = 0;
  61              		.loc 1 79 63 view .LVU13
  62 001a 0904     		lsls	r1, r1, #16
  79:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->TargetFinal = 0;
  63              		.loc 1 79 24 view .LVU14
  64 001c C0E90141 		strd	r4, r1, [r0, #4]
  65              		.loc 1 80 5 is_stmt 1 view .LVU15
  66              		.loc 1 80 26 is_stmt 0 view .LVU16
  67 0020 4380     		strh	r3, [r0, #2]	@ movhi
  81:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->RampRemainingStep = 0U;
  68              		.loc 1 81 5 is_stmt 1 view .LVU17
  82:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->IncDecAmount = 0;
  83:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
  84:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
  85:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
  86:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
  69              		.loc 1 86 1 is_stmt 0 view .LVU18
  70 0022 5DF8044B 		ldr	r4, [sp], #4
  71              	.LCFI1:
  72              		.cfi_restore 4
  73              		.cfi_def_cfa_offset 0
  81:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->RampRemainingStep = 0U;
  74              		.loc 1 81 32 view .LVU19
  75 0026 C360     		str	r3, [r0, #12]
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 4


  82:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->IncDecAmount = 0;
  76              		.loc 1 82 5 is_stmt 1 view .LVU20
  82:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->IncDecAmount = 0;
  77              		.loc 1 82 27 is_stmt 0 view .LVU21
  78 0028 8361     		str	r3, [r0, #24]
  79              		.loc 1 86 1 view .LVU22
  80 002a 7047     		bx	lr
  81              		.cfi_endproc
  82              	.LFE1088:
  84              		.section	.text.STC_SetSpeedSensor,"ax",%progbits
  85              		.align	1
  86              		.p2align 2,,3
  87              		.weak	STC_SetSpeedSensor
  88              		.syntax unified
  89              		.thumb
  90              		.thumb_func
  92              	STC_SetSpeedSensor:
  93              	.LVL2:
  94              	.LFB1089:
  87:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
  88:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
  89:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief Sets in real time the speed sensor utilized by the STC.
  90:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param pHandle: handler of the current instance of the SpeednTorqCtrl component.
  91:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param SPD_Handle Speed sensor component to be set.
  92:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval none
  93:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
  94:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called during tasks execution of the MC state machine into MediumFrequencyTask.
  95:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
  96:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak void STC_SetSpeedSensor(SpeednTorqCtrl_Handle_t *pHandle, SpeednPosFdbk_Handle_t *SPD_Handle
  97:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
  95              		.loc 1 97 1 is_stmt 1 view -0
  96              		.cfi_startproc
  97              		@ args = 0, pretend = 0, frame = 0
  98              		@ frame_needed = 0, uses_anonymous_args = 0
  99              		@ link register save eliminated.
  98:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
  99:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 100:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 101:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
 102:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 103:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 104:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 105:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 106:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->SPD = SPD_Handle;
 100              		.loc 1 106 5 view .LVU24
 101              		.loc 1 106 18 is_stmt 0 view .LVU25
 102 0000 4161     		str	r1, [r0, #20]
 107:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 108:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 109:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 110:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 103              		.loc 1 110 1 view .LVU26
 104 0002 7047     		bx	lr
 105              		.cfi_endproc
 106              	.LFE1089:
 108              		.section	.text.STC_GetSpeedSensor,"ax",%progbits
 109              		.align	1
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 5


 110              		.p2align 2,,3
 111              		.weak	STC_GetSpeedSensor
 112              		.syntax unified
 113              		.thumb
 114              		.thumb_func
 116              	STC_GetSpeedSensor:
 117              	.LVL3:
 118              	.LFB1090:
 111:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 112:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 113:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief Returns the speed sensor utilized by the FOC.
 114:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param pHandle: handler of the current instance of the SpeednTorqCtrl component.
 115:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval SpeednPosFdbk_Handle_t speed sensor utilized by the FOC.
 116:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 117:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called as soon as component parameters are required by MC FW.
 118:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 119:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** //cstat !MISRAC2012-Rule-8.13
 120:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak SpeednPosFdbk_Handle_t *STC_GetSpeedSensor(SpeednTorqCtrl_Handle_t *pHandle)
 121:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 119              		.loc 1 121 1 is_stmt 1 view -0
 120              		.cfi_startproc
 121              		@ args = 0, pretend = 0, frame = 0
 122              		@ frame_needed = 0, uses_anonymous_args = 0
 123              		@ link register save eliminated.
 122:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 123:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL ==  pHandle) ? MC_NULL : pHandle->SPD);
 124:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 125:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (pHandle->SPD);
 124              		.loc 1 125 3 view .LVU28
 126:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 127:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 125              		.loc 1 127 1 is_stmt 0 view .LVU29
 126 0000 4069     		ldr	r0, [r0, #20]
 127              	.LVL4:
 128              		.loc 1 127 1 view .LVU30
 129 0002 7047     		bx	lr
 130              		.cfi_endproc
 131              	.LFE1090:
 133              		.section	.text.STC_Clear,"ax",%progbits
 134              		.align	1
 135              		.p2align 2,,3
 136              		.weak	STC_Clear
 137              		.syntax unified
 138              		.thumb
 139              		.thumb_func
 141              	STC_Clear:
 142              	.LVL5:
 143              	.LFB1091:
 128:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 129:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 130:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Resets the integral term of speed regulator if STC is set in speed mode.
 131:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 132:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval none.
 133:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 134:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called before each motor restart.
 135:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 136:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak void STC_Clear(SpeednTorqCtrl_Handle_t *pHandle)
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 6


 137:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 144              		.loc 1 137 1 is_stmt 1 view -0
 145              		.cfi_startproc
 146              		@ args = 0, pretend = 0, frame = 0
 147              		@ frame_needed = 0, uses_anonymous_args = 0
 148              		@ link register save eliminated.
 138:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 139:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 140:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 141:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
 142:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 143:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 144:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 145:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 146:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (MCM_SPEED_MODE == pHandle->Mode)
 149              		.loc 1 146 5 view .LVU32
 150              		.loc 1 146 8 is_stmt 0 view .LVU33
 151 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 152 0002 032B     		cmp	r3, #3
 153 0004 00D0     		beq	.L8
 147:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 148:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       PID_SetIntegralTerm(pHandle->PISpeed, 0);
 149:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 150:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     else
 151:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 152:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Nothing to do */
 153:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 154:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 155:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 156:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 157:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 154              		.loc 1 157 1 view .LVU34
 155 0006 7047     		bx	lr
 156              	.L8:
 148:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 157              		.loc 1 148 7 is_stmt 1 view .LVU35
 158 0008 0069     		ldr	r0, [r0, #16]
 159              	.LVL6:
 148:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 160              		.loc 1 148 7 is_stmt 0 view .LVU36
 161 000a 0021     		movs	r1, #0
 162 000c FFF7FEBF 		b	PID_SetIntegralTerm
 163              	.LVL7:
 164              		.cfi_endproc
 165              	.LFE1091:
 167              		.section	.text.STC_GetMecSpeedRefUnit,"ax",%progbits
 168              		.align	1
 169              		.p2align 2,,3
 170              		.weak	STC_GetMecSpeedRefUnit
 171              		.syntax unified
 172              		.thumb
 173              		.thumb_func
 175              	STC_GetMecSpeedRefUnit:
 176              	.LVL8:
 177              	.LFB1092:
 158:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 159:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 7


 160:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Gets the current mechanical rotor speed reference
 161:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         @ref SpeednTorqCtrl_Handle_t::SpeedRefUnitExt "SpeedRefUnitExt" expressed in the unit
 162:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         defined by [SPEED_UNIT](measurement_units.md).
 163:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 164:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval int16_t current mechanical rotor speed reference expressed in 
 165:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         the unit defined by [SPEED_UNIT](measurement_units.md).
 166:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 167:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called at MC boot procedure and for speed monitoring through MotorPilote.
 168:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 169:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** //cstat !MISRAC2012-Rule-8.13
 170:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak int16_t STC_GetMecSpeedRefUnit(SpeednTorqCtrl_Handle_t *pHandle)
 171:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 178              		.loc 1 171 1 is_stmt 1 view -0
 179              		.cfi_startproc
 180              		@ args = 0, pretend = 0, frame = 0
 181              		@ frame_needed = 0, uses_anonymous_args = 0
 182              		@ link register save eliminated.
 172:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifndef FULL_MISRA_C_COMPLIANCY_SPD_TORQ_CTRL
 173:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 174:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   //cstat !MISRAC2012-Rule-1.3_n !ATH-shift-neg !MISRAC2012-Rule-10.1_R6
 175:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? 0 : (int16_t)(pHandle->SpeedRefUnitExt >> 16));
 176:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 177:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((int16_t)(pHandle->SpeedRefUnitExt >> 16));
 183              		.loc 1 177 3 view .LVU38
 178:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 179:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 180:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 181:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? 0 : (int16_t)(pHandle->SpeedRefUnitExt / 65536));
 182:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 183:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((int16_t)(pHandle->SpeedRefUnitExt / 65536));
 184:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 185:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 186:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 184              		.loc 1 186 1 is_stmt 0 view .LVU39
 185 0000 B0F90600 		ldrsh	r0, [r0, #6]
 186              	.LVL9:
 187              		.loc 1 186 1 view .LVU40
 188 0004 7047     		bx	lr
 189              		.cfi_endproc
 190              	.LFE1092:
 192 0006 00BF     		.section	.text.STC_GetTorqueRef,"ax",%progbits
 193              		.align	1
 194              		.p2align 2,,3
 195              		.weak	STC_GetTorqueRef
 196              		.syntax unified
 197              		.thumb
 198              		.thumb_func
 200              	STC_GetTorqueRef:
 201              	.LVL10:
 202              	.LFB1093:
 187:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 188:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 189:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Gets the current motor torque reference
 190:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 191:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval int16_t current motor torque reference. This value represents
 192:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         actually the Iq current expressed in digit.
 193:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 8


 194:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - @ref SpeednTorqCtrl_Handle_t::TorqueRef "TorqueRef" represents
 195:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * actually the Iq current reference expressed in digit.
 196:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - To convert current expressed in digit to current expressed in Amps
 197:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * is possible to use the formula:\n
 198:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * Current(Amp) = [Current(digit) * Vdd micro] / [65536 * Rshunt * Aop]
 199:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called during #STC_ExecRamp execution.
 200:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 201:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** //cstat !MISRAC2012-Rule-8.13
 202:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak int16_t STC_GetTorqueRef(SpeednTorqCtrl_Handle_t *pHandle)
 203:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 203              		.loc 1 203 1 is_stmt 1 view -0
 204              		.cfi_startproc
 205              		@ args = 0, pretend = 0, frame = 0
 206              		@ frame_needed = 0, uses_anonymous_args = 0
 207              		@ link register save eliminated.
 204:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifndef FULL_MISRA_C_COMPLIANCY_SPD_TORQ_CTRL
 205:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 206:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   //cstat !MISRAC2012-Rule-1.3_n !ATH-shift-neg !MISRAC2012-Rule-10.1_R6
 207:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? 0 : (int16_t)(pHandle->TorqueRef >> 16));
 208:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 209:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((int16_t)(pHandle->TorqueRef >> 16));
 208              		.loc 1 209 3 view .LVU42
 210:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 211:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 212:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 213:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? 0 : (int16_t)(pHandle->TorqueRef / 65536));
 214:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 215:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((int16_t)(pHandle->TorqueRef / 65536));
 216:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 217:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 218:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 209              		.loc 1 218 1 is_stmt 0 view .LVU43
 210 0000 B0F90A00 		ldrsh	r0, [r0, #10]
 211              	.LVL11:
 212              		.loc 1 218 1 view .LVU44
 213 0004 7047     		bx	lr
 214              		.cfi_endproc
 215              	.LFE1093:
 217 0006 00BF     		.section	.text.STC_SetControlMode,"ax",%progbits
 218              		.align	1
 219              		.p2align 2,,3
 220              		.weak	STC_SetControlMode
 221              		.syntax unified
 222              		.thumb
 223              		.thumb_func
 225              	STC_SetControlMode:
 226              	.LVL12:
 227              	.LFB1094:
 219:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 220:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 221:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Sets the modality of the speed and torque controller
 222:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         @ref SpeednTorqCtrl_Handle_t::Mode "Mode".
 223:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 224:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  bMode:  modality of STC. It can be one of these two settings:
 225:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         MCM_TORQUE_MODE to enable the Torque mode or MCM_SPEED_MODE to
 226:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         enable the Speed mode.
 227:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval none
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 9


 228:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 229:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Two modality are available Torque mode and Speed mode.\n
 230:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * -- In Torque mode is possible to set directly the motor torque
 231:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * reference or execute a motor torque ramp. This value represents
 232:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * actually the Iq current reference expressed in digit.\n
 233:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * -- In Speed mode is possible to set the mechanical rotor speed
 234:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * reference or execute a speed ramp. The required motor torque is
 235:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * automatically calculated by the STC.\n
 236:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Interrupts the execution of any previous ramp command
 237:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * maintaining the last value of Iq by clearing
 238:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *  @ref SpeednTorqCtrl_Handle_t::RampRemainingStep "RampRemainingStep".
 239:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called generally before Starting the execution of a ramp.
 240:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 241:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak void STC_SetControlMode(SpeednTorqCtrl_Handle_t *pHandle, MC_ControlMode_t bMode)
 242:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 228              		.loc 1 242 1 is_stmt 1 view -0
 229              		.cfi_startproc
 230              		@ args = 0, pretend = 0, frame = 0
 231              		@ frame_needed = 0, uses_anonymous_args = 0
 232              		@ link register save eliminated.
 243:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 244:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 245:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 246:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
 247:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 248:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 249:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 250:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 251:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->Mode = bMode;
 233              		.loc 1 251 5 view .LVU46
 252:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->RampRemainingStep = 0u; /* Interrupts previous ramp */
 234              		.loc 1 252 32 is_stmt 0 view .LVU47
 235 0000 0023     		movs	r3, #0
 251:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->RampRemainingStep = 0u; /* Interrupts previous ramp */
 236              		.loc 1 251 19 view .LVU48
 237 0002 0170     		strb	r1, [r0]
 238              		.loc 1 252 5 is_stmt 1 view .LVU49
 239              		.loc 1 252 32 is_stmt 0 view .LVU50
 240 0004 C360     		str	r3, [r0, #12]
 253:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 254:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 255:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 256:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 241              		.loc 1 256 1 view .LVU51
 242 0006 7047     		bx	lr
 243              		.cfi_endproc
 244              	.LFE1094:
 246              		.section	.text.STC_GetControlMode,"ax",%progbits
 247              		.align	1
 248              		.p2align 2,,3
 249              		.weak	STC_GetControlMode
 250              		.syntax unified
 251              		.thumb
 252              		.thumb_func
 254              	STC_GetControlMode:
 255              	.LVL13:
 256              	.LFB1095:
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 10


 257:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 258:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 259:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Gets the modality of the speed and torque controller
 260:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *           @ref SpeednTorqCtrl_Handle_t::Mode "Mode".
 261:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 262:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval MC_ControlMode_t  modality of STC. It can be one of
 263:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         these two values: MCM_TORQUE_MODE or MCM_SPEED_MODE.
 264:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 265:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called by @ref SpeedRegulatorPotentiometer Speed potentiometer component to manage new speed 
 266:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 267:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** //cstat !MISRAC2012-Rule-8.13
 268:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak MC_ControlMode_t STC_GetControlMode(SpeednTorqCtrl_Handle_t *pHandle)
 269:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 257              		.loc 1 269 1 is_stmt 1 view -0
 258              		.cfi_startproc
 259              		@ args = 0, pretend = 0, frame = 0
 260              		@ frame_needed = 0, uses_anonymous_args = 0
 261              		@ link register save eliminated.
 270:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 271:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? MCM_TORQUE_MODE : pHandle->Mode);
 272:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 273:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (pHandle->Mode);
 262              		.loc 1 273 3 view .LVU53
 274:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 275:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 263              		.loc 1 275 1 is_stmt 0 view .LVU54
 264 0000 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 265              	.LVL14:
 266              		.loc 1 275 1 view .LVU55
 267 0002 7047     		bx	lr
 268              		.cfi_endproc
 269              	.LFE1095:
 271              		.section	.text.STC_ExecRamp,"ax",%progbits
 272              		.align	1
 273              		.p2align 2,,3
 274              		.weak	STC_ExecRamp
 275              		.syntax unified
 276              		.thumb
 277              		.thumb_func
 279              	STC_ExecRamp:
 280              	.LVL15:
 281              	.LFB1096:
 276:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 277:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 278:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Starts the execution of a ramp using new target and duration.
 279:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 280:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  hTargetFinal: final value of command. This is different accordingly
 281:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         the STC modality.
 282:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         If STC is in Torque mode hTargetFinal is the value of motor torque
 283:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         reference at the end of the ramp. This value represents actually the
 284:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         Iq current expressed in digit.
 285:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         To convert current expressed in Amps to current expressed in digit
 286:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         is possible to use the formula:\n
 287:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         Current(digit) = [Current(Amp) * 65536 * Rshunt * Aop]  /  Vdd micro\n
 288:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         If STC is in Speed mode hTargetFinal is the value of mechanical
 289:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         rotor speed reference at the end of the ramp expressed in the unit 
 290:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         defined by [SPEED_UNIT](measurement_units.md).
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 11


 291:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  hDurationms: the duration of the ramp expressed in milliseconds. It
 292:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         is possible to set 0 to perform an instantaneous change in the value.
 293:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval bool returning false if the absolute value of hTargetFinal is out of
 294:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         the boundary of the application (Above max application speed or max
 295:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         application torque or below min application speed depending on
 296:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         current modality of TSC) in this case the command is ignored and the
 297:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         previous ramp is not interrupted, otherwise it returns true.
 298:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 299:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - This command interrupts the execution of any previous ramp command.
 300:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * The generated ramp will be in the modality previously set by
 301:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * #STC_SetControlMode method.
 302:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called during @ref motor profiling, @ref RevUpCtrl "Rev-Up Control" phase,
 303:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @ref EncAlignCtrl "Encoder Alignment Control",
 304:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @ref PositionControl "Position Control" loop or
 305:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * speed regulation with @ref SpeedRegulatorPotentiometer Speed potentiometer.
 306:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 307:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak bool STC_ExecRamp(SpeednTorqCtrl_Handle_t *pHandle, int16_t hTargetFinal, uint32_t hDuration
 308:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 282              		.loc 1 308 1 is_stmt 1 view -0
 283              		.cfi_startproc
 284              		@ args = 0, pretend = 0, frame = 0
 285              		@ frame_needed = 0, uses_anonymous_args = 0
 309:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   bool allowedRange = true;
 286              		.loc 1 309 3 view .LVU57
 310:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 311:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 312:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 313:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     allowedRange = false;
 314:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 315:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 316:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 317:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 318:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     uint32_t wAux;
 287              		.loc 1 318 5 view .LVU58
 319:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     int32_t wAux1;
 288              		.loc 1 319 5 view .LVU59
 320:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     int16_t hCurrentReference;
 289              		.loc 1 320 5 view .LVU60
 321:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 322:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Check if the hTargetFinal is out of the bound of application */
 323:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (MCM_TORQUE_MODE == pHandle->Mode)
 290              		.loc 1 323 5 view .LVU61
 308:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   bool allowedRange = true;
 291              		.loc 1 308 1 is_stmt 0 view .LVU62
 292 0000 70B5     		push	{r4, r5, r6, lr}
 293              	.LCFI2:
 294              		.cfi_def_cfa_offset 16
 295              		.cfi_offset 4, -16
 296              		.cfi_offset 5, -12
 297              		.cfi_offset 6, -8
 298              		.cfi_offset 14, -4
 299              		.loc 1 323 8 view .LVU63
 300 0002 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 301 0004 042B     		cmp	r3, #4
 308:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   bool allowedRange = true;
 302              		.loc 1 308 1 view .LVU64
 303 0006 0446     		mov	r4, r0
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 12


 304 0008 0E46     		mov	r6, r1
 305 000a 1546     		mov	r5, r2
 306              		.loc 1 323 8 view .LVU65
 307 000c 1ED0     		beq	.L23
 324:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 325:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hCurrentReference = STC_GetTorqueRef(pHandle);
 326:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef CHECK_BOUNDARY
 327:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       if ((int32_t)hTargetFinal > (int32_t)pHandle->MaxPositiveTorque)
 328:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 329:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         allowedRange = false;
 330:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 331:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       else
 332:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 333:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         /* Nothing to do */
 334:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 335:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       if ((int32_t)hTargetFinal < (int32_t)pHandle->MinNegativeTorque)
 336:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 337:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         allowedRange = false;
 338:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 339:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       else
 340:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 341:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         /* Nothing to do */
 342:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 343:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 344:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 345:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     else
 346:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 347:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifndef FULL_MISRA_C_COMPLIANCY_SPD_TORQ_CTRL
 348:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       //cstat !MISRAC2012-Rule-1.3_n !ATH-shift-neg !MISRAC2012-Rule-10.1_R6
 349:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hCurrentReference = (int16_t)(pHandle->SpeedRefUnitExt >> 16);
 308              		.loc 1 349 7 is_stmt 1 view .LVU66
 350:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 351:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hCurrentReference = (int16_t)(pHandle->SpeedRefUnitExt / 65536);
 352:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 353:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 354:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef CHECK_BOUNDARY
 355:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       if ((int32_t)hTargetFinal > (int32_t)pHandle->MaxAppPositiveMecSpeedUnit)
 309              		.loc 1 355 35 is_stmt 0 view .LVU67
 310 000e C38B     		ldrh	r3, [r0, #30]
 349:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 311              		.loc 1 349 25 view .LVU68
 312 0010 B0F90600 		ldrsh	r0, [r0, #6]
 313              	.LVL16:
 314              		.loc 1 355 7 is_stmt 1 view .LVU69
 315              		.loc 1 355 10 is_stmt 0 view .LVU70
 316 0014 9942     		cmp	r1, r3
 317 0016 01DD     		ble	.L24
 318              	.LVL17:
 319              	.L17:
 337:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 320              		.loc 1 337 22 view .LVU71
 321 0018 0020     		movs	r0, #0
 322              	.LVL18:
 356:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 357:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         allowedRange = false;
 358:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 359:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       else if (hTargetFinal < pHandle->MinAppNegativeMecSpeedUnit)
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 13


 360:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 361:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         allowedRange = false;
 362:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 363:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       else if ((int32_t)hTargetFinal < (int32_t)pHandle->MinAppPositiveMecSpeedUnit)
 364:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 365:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         if (hTargetFinal > pHandle->MaxAppNegativeMecSpeedUnit)
 366:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         {
 367:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****           allowedRange = false;
 368:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         }
 369:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 370:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       else
 371:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 372:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         /* Nothing to do */
 373:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 374:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 375:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 376:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 377:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (true == allowedRange)
 378:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 379:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Interrupts the execution of any previous ramp command */
 380:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       if (0U == hDurationms)
 381:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 382:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         if (MCM_SPEED_MODE == pHandle->Mode)
 383:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         {
 384:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****           pHandle->SpeedRefUnitExt = ((int32_t)hTargetFinal) * 65536;
 385:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         }
 386:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         else
 387:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         {
 388:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****           pHandle->TorqueRef = ((int32_t)hTargetFinal) * 65536;
 389:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         }
 390:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->RampRemainingStep = 0U;
 391:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->IncDecAmount = 0;
 392:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 393:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       else
 394:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 395:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         /* Store the hTargetFinal to be applied in the last step */
 396:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->TargetFinal = hTargetFinal;
 397:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 398:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         /* Compute the (wRampRemainingStep) number of steps remaining to complete the ramp */
 399:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         wAux = ((uint32_t)hDurationms) * ((uint32_t)pHandle->STCFrequencyHz);
 400:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         wAux /= 1000U;
 401:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->RampRemainingStep = wAux;
 402:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->RampRemainingStep++;
 403:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 404:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         /* Compute the increment/decrement amount (wIncDecAmount) to be applied to
 405:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         the reference value at each CalcTorqueReference */
 406:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         wAux1 = (((int32_t)hTargetFinal) - ((int32_t)hCurrentReference)) * 65536;
 407:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         wAux1 /= ((int32_t)pHandle->RampRemainingStep);
 408:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->IncDecAmount = wAux1;
 409:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 410:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 411:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 412:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 413:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 414:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (allowedRange);
 323              		.loc 1 414 3 is_stmt 1 view .LVU72
 415:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 14


 324              		.loc 1 415 1 is_stmt 0 view .LVU73
 325 001a 70BD     		pop	{r4, r5, r6, pc}
 326              	.LVL19:
 327              	.L24:
 359:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 328              		.loc 1 359 12 is_stmt 1 view .LVU74
 359:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 329              		.loc 1 359 15 is_stmt 0 view .LVU75
 330 001c B4F92430 		ldrsh	r3, [r4, #36]
 331 0020 8B42     		cmp	r3, r1
 332 0022 F9DC     		bgt	.L17
 363:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 333              		.loc 1 363 12 is_stmt 1 view .LVU76
 363:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 334              		.loc 1 363 40 is_stmt 0 view .LVU77
 335 0024 238C     		ldrh	r3, [r4, #32]
 363:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 336              		.loc 1 363 15 view .LVU78
 337 0026 9942     		cmp	r1, r3
 338 0028 03DA     		bge	.L18
 365:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         {
 339              		.loc 1 365 9 is_stmt 1 view .LVU79
 365:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         {
 340              		.loc 1 365 12 is_stmt 0 view .LVU80
 341 002a B4F92230 		ldrsh	r3, [r4, #34]
 342 002e 8B42     		cmp	r3, r1
 343 0030 F2DB     		blt	.L17
 344              	.LVL20:
 345              	.L18:
 380:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 346              		.loc 1 380 7 is_stmt 1 view .LVU81
 380:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 347              		.loc 1 380 10 is_stmt 0 view .LVU82
 348 0032 ADB9     		cbnz	r5, .L19
 382:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         {
 349              		.loc 1 382 9 is_stmt 1 view .LVU83
 382:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         {
 350              		.loc 1 382 12 is_stmt 0 view .LVU84
 351 0034 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 384:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         }
 352              		.loc 1 384 62 view .LVU85
 353 0036 3604     		lsls	r6, r6, #16
 382:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         {
 354              		.loc 1 382 12 view .LVU86
 355 0038 032B     		cmp	r3, #3
 384:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         }
 356              		.loc 1 384 11 is_stmt 1 view .LVU87
 390:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->IncDecAmount = 0;
 357              		.loc 1 390 36 is_stmt 0 view .LVU88
 358 003a 4FF00003 		mov	r3, #0
 384:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         }
 359              		.loc 1 384 36 view .LVU89
 360 003e 0CBF     		ite	eq
 361 0040 6660     		streq	r6, [r4, #4]
 388:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         }
 362              		.loc 1 388 11 is_stmt 1 view .LVU90
 388:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         }
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 15


 363              		.loc 1 388 30 is_stmt 0 view .LVU91
 364 0042 A660     		strne	r6, [r4, #8]
 390:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->IncDecAmount = 0;
 365              		.loc 1 390 9 is_stmt 1 view .LVU92
 390:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->IncDecAmount = 0;
 366              		.loc 1 390 36 is_stmt 0 view .LVU93
 367 0044 E360     		str	r3, [r4, #12]
 391:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 368              		.loc 1 391 9 is_stmt 1 view .LVU94
 391:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 369              		.loc 1 391 31 is_stmt 0 view .LVU95
 370 0046 A361     		str	r3, [r4, #24]
 371 0048 0120     		movs	r0, #1
 414:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 372              		.loc 1 414 3 is_stmt 1 view .LVU96
 373              		.loc 1 415 1 is_stmt 0 view .LVU97
 374 004a 70BD     		pop	{r4, r5, r6, pc}
 375              	.LVL21:
 376              	.L23:
 325:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef CHECK_BOUNDARY
 377              		.loc 1 325 7 is_stmt 1 view .LVU98
 325:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef CHECK_BOUNDARY
 378              		.loc 1 325 27 is_stmt 0 view .LVU99
 379 004c FFF7FEFF 		bl	STC_GetTorqueRef
 380              	.LVL22:
 327:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 381              		.loc 1 327 35 view .LVU100
 382 0050 E38C     		ldrh	r3, [r4, #38]
 383              	.LVL23:
 327:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 384              		.loc 1 327 7 is_stmt 1 view .LVU101
 327:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 385              		.loc 1 327 10 is_stmt 0 view .LVU102
 386 0052 9E42     		cmp	r6, r3
 387 0054 E0DC     		bgt	.L17
 334:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       if ((int32_t)hTargetFinal < (int32_t)pHandle->MinNegativeTorque)
 388              		.loc 1 334 7 is_stmt 1 view .LVU103
 335:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 389              		.loc 1 335 7 view .LVU104
 335:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       {
 390              		.loc 1 335 10 is_stmt 0 view .LVU105
 391 0056 B4F92830 		ldrsh	r3, [r4, #40]
 392 005a B342     		cmp	r3, r6
 393 005c DCDC     		bgt	.L17
 394 005e E8E7     		b	.L18
 395              	.LVL24:
 396              	.L19:
 396:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 397              		.loc 1 396 9 is_stmt 1 view .LVU106
 399:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         wAux /= 1000U;
 398              		.loc 1 399 43 is_stmt 0 view .LVU107
 399 0060 A38B     		ldrh	r3, [r4, #28]
 396:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 400              		.loc 1 396 30 view .LVU108
 401 0062 6680     		strh	r6, [r4, #2]	@ movhi
 399:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         wAux /= 1000U;
 402              		.loc 1 399 14 view .LVU109
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 16


 403 0064 05FB03F3 		mul	r3, r5, r3
 400:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->RampRemainingStep = wAux;
 404              		.loc 1 400 14 view .LVU110
 405 0068 064D     		ldr	r5, .L25
 406              	.LVL25:
 400:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->RampRemainingStep = wAux;
 407              		.loc 1 400 14 view .LVU111
 408 006a A5FB0323 		umull	r2, r3, r5, r3
 409 006e 9B09     		lsrs	r3, r3, #6
 402:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 410              		.loc 1 402 35 view .LVU112
 411 0070 0133     		adds	r3, r3, #1
 406:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         wAux1 /= ((int32_t)pHandle->RampRemainingStep);
 412              		.loc 1 406 42 view .LVU113
 413 0072 301A     		subs	r0, r6, r0
 406:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         wAux1 /= ((int32_t)pHandle->RampRemainingStep);
 414              		.loc 1 406 15 view .LVU114
 415 0074 0004     		lsls	r0, r0, #16
 399:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         wAux /= 1000U;
 416              		.loc 1 399 9 is_stmt 1 view .LVU115
 417              	.LVL26:
 400:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->RampRemainingStep = wAux;
 418              		.loc 1 400 9 view .LVU116
 401:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->RampRemainingStep++;
 419              		.loc 1 401 9 view .LVU117
 402:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 420              		.loc 1 402 9 view .LVU118
 402:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 421              		.loc 1 402 35 is_stmt 0 view .LVU119
 422 0076 E360     		str	r3, [r4, #12]
 407:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->IncDecAmount = wAux1;
 423              		.loc 1 407 15 view .LVU120
 424 0078 90FBF3F0 		sdiv	r0, r0, r3
 406:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         wAux1 /= ((int32_t)pHandle->RampRemainingStep);
 425              		.loc 1 406 9 is_stmt 1 view .LVU121
 426              	.LVL27:
 407:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****         pHandle->IncDecAmount = wAux1;
 427              		.loc 1 407 9 view .LVU122
 408:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 428              		.loc 1 408 9 view .LVU123
 408:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       }
 429              		.loc 1 408 31 is_stmt 0 view .LVU124
 430 007c A061     		str	r0, [r4, #24]
 431 007e 0120     		movs	r0, #1
 414:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 432              		.loc 1 414 3 is_stmt 1 view .LVU125
 433              		.loc 1 415 1 is_stmt 0 view .LVU126
 434 0080 70BD     		pop	{r4, r5, r6, pc}
 435              	.LVL28:
 436              	.L26:
 437              		.loc 1 415 1 view .LVU127
 438 0082 00BF     		.align	2
 439              	.L25:
 440 0084 D34D6210 		.word	274877907
 441              		.cfi_endproc
 442              	.LFE1096:
 444              		.section	.text.STC_StopRamp,"ax",%progbits
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 17


 445              		.align	1
 446              		.p2align 2,,3
 447              		.weak	STC_StopRamp
 448              		.syntax unified
 449              		.thumb
 450              		.thumb_func
 452              	STC_StopRamp:
 453              	.LVL29:
 454              	.LFB1097:
 416:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 417:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 418:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Interrupts the execution of any previous ramp command in particular by clearing
 419:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         the number of steps remaining to complete the ramp
 420:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         @ref SpeednTorqCtrl_Handle_t::RampRemainingStep "RampRemainingStep".
 421:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 422:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval none
 423:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 424:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - If STC has been set in Torque mode the last value of Iq is maintained.\n
 425:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - If STC has been set in Speed mode the last value of mechanical
 426:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * rotor speed reference is maintained.
 427:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called by MCI_StopSpeedRamp execution command.
 428:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 429:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak void STC_StopRamp(SpeednTorqCtrl_Handle_t *pHandle)
 430:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 455              		.loc 1 430 1 is_stmt 1 view -0
 456              		.cfi_startproc
 457              		@ args = 0, pretend = 0, frame = 0
 458              		@ frame_needed = 0, uses_anonymous_args = 0
 459              		@ link register save eliminated.
 431:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 432:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 433:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 434:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
 435:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 436:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 437:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 438:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 439:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->RampRemainingStep = 0U;
 460              		.loc 1 439 5 view .LVU129
 461              		.loc 1 439 32 is_stmt 0 view .LVU130
 462 0000 0023     		movs	r3, #0
 463 0002 C360     		str	r3, [r0, #12]
 440:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->IncDecAmount = 0;
 464              		.loc 1 440 5 is_stmt 1 view .LVU131
 465              		.loc 1 440 27 is_stmt 0 view .LVU132
 466 0004 8361     		str	r3, [r0, #24]
 441:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 442:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 443:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 444:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 467              		.loc 1 444 1 view .LVU133
 468 0006 7047     		bx	lr
 469              		.cfi_endproc
 470              	.LFE1097:
 472              		.section	.text.STC_CalcTorqueReference,"ax",%progbits
 473              		.align	1
 474              		.p2align 2,,3
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 18


 475              		.weak	STC_CalcTorqueReference
 476              		.syntax unified
 477              		.thumb
 478              		.thumb_func
 480              	STC_CalcTorqueReference:
 481              	.LVL30:
 482              	.LFB1098:
 445:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 446:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 447:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Computes the new value of motor torque reference.
 448:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 449:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval int16_t motor torque reference. This value represents actually the
 450:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         Iq current expressed in digit.
 451:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         To convert current expressed in Amps to current expressed in digit
 452:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         is possible to use the formula:\n
 453:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         Current(digit) = [Current(Amp) * 65536 * Rshunt * Aop]  /  Vdd micro
 454:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 455:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Must be called at fixed time equal to hSTCFrequencyHz. It is called
 456:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * passing as parameter the speed sensor used to perform the speed regulation.
 457:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called during START and ALIGNEMENT states of the MC state machine into MediumFrequencyTask.
 458:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 459:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak int16_t STC_CalcTorqueReference(SpeednTorqCtrl_Handle_t *pHandle)
 460:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 483              		.loc 1 460 1 is_stmt 1 view -0
 484              		.cfi_startproc
 485              		@ args = 0, pretend = 0, frame = 0
 486              		@ frame_needed = 0, uses_anonymous_args = 0
 461:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   int16_t hTorqueReference;
 487              		.loc 1 461 3 view .LVU135
 462:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 463:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 464:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 465:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     hTorqueReference = 0;
 466:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 467:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 468:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 469:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 470:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     int32_t wCurrentReference;
 488              		.loc 1 470 5 view .LVU136
 471:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     int16_t hMeasuredSpeed;
 489              		.loc 1 471 5 view .LVU137
 472:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     int16_t hTargetSpeed;
 490              		.loc 1 472 5 view .LVU138
 473:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     int16_t hError;
 491              		.loc 1 473 5 view .LVU139
 474:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 475:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (MCM_TORQUE_MODE == pHandle->Mode)
 492              		.loc 1 475 5 view .LVU140
 460:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   int16_t hTorqueReference;
 493              		.loc 1 460 1 is_stmt 0 view .LVU141
 494 0000 38B5     		push	{r3, r4, r5, lr}
 495              	.LCFI3:
 496              		.cfi_def_cfa_offset 16
 497              		.cfi_offset 3, -16
 498              		.cfi_offset 4, -12
 499              		.cfi_offset 5, -8
 500              		.cfi_offset 14, -4
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 19


 476:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 477:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       wCurrentReference = pHandle->TorqueRef;
 501              		.loc 1 477 25 view .LVU142
 502 0002 D0E90151 		ldrd	r5, r1, [r0, #4]
 475:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 503              		.loc 1 475 35 view .LVU143
 504 0006 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 478:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 479:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     else
 480:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 481:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       wCurrentReference = pHandle->SpeedRefUnitExt;
 482:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 483:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 484:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Update the speed reference or the torque reference according to the mode
 485:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****        and terminates the ramp if needed */
 486:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (pHandle->RampRemainingStep > 1U)
 505              		.loc 1 486 16 view .LVU144
 506 0008 C368     		ldr	r3, [r0, #12]
 477:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 507              		.loc 1 477 25 view .LVU145
 508 000a 042A     		cmp	r2, #4
 509 000c 08BF     		it	eq
 510 000e 0D46     		moveq	r5, r1
 511              	.LVL31:
 512              		.loc 1 486 5 is_stmt 1 view .LVU146
 513              		.loc 1 486 8 is_stmt 0 view .LVU147
 514 0010 012B     		cmp	r3, #1
 460:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   int16_t hTorqueReference;
 515              		.loc 1 460 1 view .LVU148
 516 0012 0446     		mov	r4, r0
 517              		.loc 1 486 8 view .LVU149
 518 0014 08D9     		bls	.L30
 487:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 488:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Increment/decrement the reference value */
 489:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       wCurrentReference += pHandle->IncDecAmount;
 519              		.loc 1 489 7 is_stmt 1 view .LVU150
 520              		.loc 1 489 25 is_stmt 0 view .LVU151
 521 0016 8169     		ldr	r1, [r0, #24]
 490:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 491:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Decrement the number of remaining steps */
 492:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->RampRemainingStep--;
 522              		.loc 1 492 33 view .LVU152
 523 0018 013B     		subs	r3, r3, #1
 489:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 524              		.loc 1 489 25 view .LVU153
 525 001a 0D44     		add	r5, r5, r1
 526              	.LVL32:
 527              		.loc 1 492 7 is_stmt 1 view .LVU154
 528              		.loc 1 492 33 is_stmt 0 view .LVU155
 529 001c C360     		str	r3, [r0, #12]
 530              	.L31:
 493:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 494:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     else if (1U == pHandle->RampRemainingStep)
 495:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 496:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Set the backup value of hTargetFinal */
 497:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       wCurrentReference = ((int32_t)pHandle->TargetFinal) * 65536;
 498:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->RampRemainingStep = 0U;
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 20


 499:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 500:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     else
 501:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 502:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Do nothing */
 503:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 531              		.loc 1 503 5 is_stmt 1 view .LVU156
 504:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 505:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (MCM_SPEED_MODE == pHandle->Mode)
 532              		.loc 1 505 5 view .LVU157
 533              		.loc 1 505 8 is_stmt 0 view .LVU158
 534 001e 032A     		cmp	r2, #3
 535 0020 0BD0     		beq	.L35
 536              	.L32:
 506:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 507:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Run the speed control loop */
 508:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 509:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       /* Compute speed error */
 510:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifndef FULL_MISRA_C_COMPLIANCY_SPD_TORQ_CTRL
 511:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       //cstat !MISRAC2012-Rule-1.3_n !ATH-shift-neg !MISRAC2012-Rule-10.1_R6
 512:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hTargetSpeed = (int16_t)(wCurrentReference >> 16);
 513:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 514:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hTargetSpeed = (int16_t)(wCurrentReference / 65536);
 515:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 516:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hMeasuredSpeed = SPD_GetAvrgMecSpeedUnit(pHandle->SPD);
 517:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hError = hTargetSpeed - hMeasuredSpeed;
 518:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hTorqueReference = PI_Controller(pHandle->PISpeed, (int32_t)hError);
 519:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 520:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->SpeedRefUnitExt = wCurrentReference;
 521:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->TorqueRef = ((int32_t)hTorqueReference) * 65536;
 522:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 523:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     else
 524:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 525:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->TorqueRef = wCurrentReference;
 537              		.loc 1 525 7 is_stmt 1 view .LVU159
 538              		.loc 1 525 26 is_stmt 0 view .LVU160
 539 0022 A560     		str	r5, [r4, #8]
 526:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifndef FULL_MISRA_C_COMPLIANCY_SPD_TORQ_CTRL
 527:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       //cstat !MISRAC2012-Rule-1.3_n !ATH-shift-neg !MISRAC2012-Rule-10.1_R6
 528:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hTorqueReference = (int16_t)(wCurrentReference >> 16);
 540              		.loc 1 528 7 is_stmt 1 view .LVU161
 541              		.loc 1 528 24 is_stmt 0 view .LVU162
 542 0024 2814     		asrs	r0, r5, #16
 543              	.LVL33:
 529:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 530:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hTorqueReference = (int16_t)(wCurrentReference / 65536);
 531:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 532:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 533:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 534:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 535:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 536:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (hTorqueReference);
 544              		.loc 1 536 3 is_stmt 1 view .LVU163
 537:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 545              		.loc 1 537 1 is_stmt 0 view .LVU164
 546 0026 38BD     		pop	{r3, r4, r5, pc}
 547              	.LVL34:
 548              	.L30:
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 21


 494:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 549              		.loc 1 494 10 is_stmt 1 view .LVU165
 494:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 550              		.loc 1 494 13 is_stmt 0 view .LVU166
 551 0028 F9D1     		bne	.L31
 497:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->RampRemainingStep = 0U;
 552              		.loc 1 497 7 is_stmt 1 view .LVU167
 497:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->RampRemainingStep = 0U;
 553              		.loc 1 497 28 is_stmt 0 view .LVU168
 554 002a B0F90250 		ldrsh	r5, [r0, #2]
 555              	.LVL35:
 498:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 556              		.loc 1 498 34 view .LVU169
 557 002e 0023     		movs	r3, #0
 505:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 558              		.loc 1 505 8 view .LVU170
 559 0030 032A     		cmp	r2, #3
 497:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->RampRemainingStep = 0U;
 560              		.loc 1 497 25 view .LVU171
 561 0032 4FEA0545 		lsl	r5, r5, #16
 562              	.LVL36:
 498:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 563              		.loc 1 498 7 is_stmt 1 view .LVU172
 498:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 564              		.loc 1 498 34 is_stmt 0 view .LVU173
 565 0036 C360     		str	r3, [r0, #12]
 503:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 566              		.loc 1 503 5 is_stmt 1 view .LVU174
 505:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 567              		.loc 1 505 5 view .LVU175
 505:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 568              		.loc 1 505 8 is_stmt 0 view .LVU176
 569 0038 F3D1     		bne	.L32
 570              	.L35:
 512:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 571              		.loc 1 512 7 is_stmt 1 view .LVU177
 572              	.LVL37:
 516:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hError = hTargetSpeed - hMeasuredSpeed;
 573              		.loc 1 516 7 view .LVU178
 516:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hError = hTargetSpeed - hMeasuredSpeed;
 574              		.loc 1 516 24 is_stmt 0 view .LVU179
 575 003a 6069     		ldr	r0, [r4, #20]
 576              	.LVL38:
 516:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hError = hTargetSpeed - hMeasuredSpeed;
 577              		.loc 1 516 24 view .LVU180
 578 003c FFF7FEFF 		bl	SPD_GetAvrgMecSpeedUnit
 579              	.LVL39:
 517:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hTorqueReference = PI_Controller(pHandle->PISpeed, (int32_t)hError);
 580              		.loc 1 517 7 is_stmt 1 view .LVU181
 518:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 581              		.loc 1 518 7 view .LVU182
 517:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       hTorqueReference = PI_Controller(pHandle->PISpeed, (int32_t)hError);
 582              		.loc 1 517 29 is_stmt 0 view .LVU183
 583 0040 C0EB2541 		rsb	r1, r0, r5, asr #16
 518:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 584              		.loc 1 518 26 view .LVU184
 585 0044 09B2     		sxth	r1, r1
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 22


 586 0046 2069     		ldr	r0, [r4, #16]
 587              	.LVL40:
 518:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 588              		.loc 1 518 26 view .LVU185
 589 0048 FFF7FEFF 		bl	PI_Controller
 590              	.LVL41:
 520:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->TorqueRef = ((int32_t)hTorqueReference) * 65536;
 591              		.loc 1 520 7 is_stmt 1 view .LVU186
 521:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 592              		.loc 1 521 56 is_stmt 0 view .LVU187
 593 004c 0304     		lsls	r3, r0, #16
 521:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 594              		.loc 1 521 26 view .LVU188
 595 004e C4E90153 		strd	r5, r3, [r4, #4]
 536:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 596              		.loc 1 536 3 is_stmt 1 view .LVU189
 597              		.loc 1 537 1 is_stmt 0 view .LVU190
 598 0052 38BD     		pop	{r3, r4, r5, pc}
 599              		.loc 1 537 1 view .LVU191
 600              		.cfi_endproc
 601              	.LFE1098:
 603              		.section	.text.STC_GetMecSpeedRefUnitDefault,"ax",%progbits
 604              		.align	1
 605              		.p2align 2,,3
 606              		.weak	STC_GetMecSpeedRefUnitDefault
 607              		.syntax unified
 608              		.thumb
 609              		.thumb_func
 611              	STC_GetMecSpeedRefUnitDefault:
 612              	.LVL42:
 613              	.LFB1099:
 538:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 539:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 540:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Gets the Default mechanical rotor speed reference
 541:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         @ref SpeednTorqCtrl_Handle_t::MecSpeedRefUnitDefault "MecSpeedRefUnitDefault" expressed
 542:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         the unit defined by [SPEED_UNIT](measurement_units.md).
 543:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 544:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval int16_t Default mechanical rotor speed.
 545:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 546:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - It is the first command to STC after the start of speed ramp execution.
 547:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called during the boot phase of the MC process.
 548:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 549:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** //cstat !MISRAC2012-Rule-8.13
 550:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak int16_t STC_GetMecSpeedRefUnitDefault(SpeednTorqCtrl_Handle_t *pHandle)
 551:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 614              		.loc 1 551 1 is_stmt 1 view -0
 615              		.cfi_startproc
 616              		@ args = 0, pretend = 0, frame = 0
 617              		@ frame_needed = 0, uses_anonymous_args = 0
 618              		@ link register save eliminated.
 552:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 553:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? 0 : pHandle->MecSpeedRefUnitDefault);
 554:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 555:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (pHandle->MecSpeedRefUnitDefault);
 619              		.loc 1 555 3 view .LVU193
 556:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 557:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 23


 620              		.loc 1 557 1 is_stmt 0 view .LVU194
 621 0000 B0F92C00 		ldrsh	r0, [r0, #44]
 622              	.LVL43:
 623              		.loc 1 557 1 view .LVU195
 624 0004 7047     		bx	lr
 625              		.cfi_endproc
 626              	.LFE1099:
 628 0006 00BF     		.section	.text.STC_GetMaxAppPositiveMecSpeedUnit,"ax",%progbits
 629              		.align	1
 630              		.p2align 2,,3
 631              		.weak	STC_GetMaxAppPositiveMecSpeedUnit
 632              		.syntax unified
 633              		.thumb
 634              		.thumb_func
 636              	STC_GetMaxAppPositiveMecSpeedUnit:
 637              	.LVL44:
 638              	.LFB1100:
 558:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 559:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 560:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Returns the Application maximum positive value of rotor speed
 561:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         @ref SpeednTorqCtrl_Handle_t::MaxAppPositiveMecSpeedUnit "MaxAppPositiveMecSpeedUnit".
 562:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         Expressed in the unit defined by [SPEED_UNIT](measurement_units.md).
 563:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 564:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 565:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Not used into current implementation.
 566:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 567:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** //cstat !MISRAC2012-Rule-8.13
 568:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak uint16_t STC_GetMaxAppPositiveMecSpeedUnit(SpeednTorqCtrl_Handle_t *pHandle)
 569:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 639              		.loc 1 569 1 is_stmt 1 view -0
 640              		.cfi_startproc
 641              		@ args = 0, pretend = 0, frame = 0
 642              		@ frame_needed = 0, uses_anonymous_args = 0
 643              		@ link register save eliminated.
 570:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 571:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? 0U : pHandle->MaxAppPositiveMecSpeedUnit);
 572:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 573:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (pHandle->MaxAppPositiveMecSpeedUnit);
 644              		.loc 1 573 3 view .LVU197
 574:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 575:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 645              		.loc 1 575 1 is_stmt 0 view .LVU198
 646 0000 C08B     		ldrh	r0, [r0, #30]
 647              	.LVL45:
 648              		.loc 1 575 1 view .LVU199
 649 0002 7047     		bx	lr
 650              		.cfi_endproc
 651              	.LFE1100:
 653              		.section	.text.STC_GetMinAppNegativeMecSpeedUnit,"ax",%progbits
 654              		.align	1
 655              		.p2align 2,,3
 656              		.weak	STC_GetMinAppNegativeMecSpeedUnit
 657              		.syntax unified
 658              		.thumb
 659              		.thumb_func
 661              	STC_GetMinAppNegativeMecSpeedUnit:
 662              	.LVL46:
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 24


 663              	.LFB1101:
 576:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 577:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 578:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Returns the Application minimum negative value of rotor speed
 579:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         @ref SpeednTorqCtrl_Handle_t::MinAppNegativeMecSpeedUnit "MinAppNegativeMecSpeedUnit".
 580:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         Expressed in the unit defined by [SPEED_UNIT](measurement_units.md).
 581:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 582:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 583:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Not used into current implementation.
 584:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 585:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** //cstat !MISRAC2012-Rule-8.13
 586:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak int16_t STC_GetMinAppNegativeMecSpeedUnit(SpeednTorqCtrl_Handle_t *pHandle)
 587:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 664              		.loc 1 587 1 is_stmt 1 view -0
 665              		.cfi_startproc
 666              		@ args = 0, pretend = 0, frame = 0
 667              		@ frame_needed = 0, uses_anonymous_args = 0
 668              		@ link register save eliminated.
 588:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 589:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return ((MC_NULL == pHandle) ? 0 : pHandle->MinAppNegativeMecSpeedUnit);
 590:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #else
 591:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (pHandle->MinAppNegativeMecSpeedUnit);
 669              		.loc 1 591 3 view .LVU201
 592:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 593:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 670              		.loc 1 593 1 is_stmt 0 view .LVU202
 671 0000 B0F92400 		ldrsh	r0, [r0, #36]
 672              	.LVL47:
 673              		.loc 1 593 1 view .LVU203
 674 0004 7047     		bx	lr
 675              		.cfi_endproc
 676              	.LFE1101:
 678 0006 00BF     		.section	.text.STC_RampCompleted,"ax",%progbits
 679              		.align	1
 680              		.p2align 2,,3
 681              		.weak	STC_RampCompleted
 682              		.syntax unified
 683              		.thumb
 684              		.thumb_func
 686              	STC_RampCompleted:
 687              	.LVL48:
 688              	.LFB1102:
 594:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 595:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 596:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Checks if the settled speed or torque ramp has been completed by checking zero value of
 597:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *           @ref SpeednTorqCtrl_Handle_t::RampRemainingStep "RampRemainingStep".
 598:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 599:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval bool returning true if the ramp is completed, false otherwise.
 600:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 601:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called during motor profiler tuning of HALL sensor.
 602:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 603:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** //cstat !MISRAC2012-Rule-8.13
 604:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak bool STC_RampCompleted(SpeednTorqCtrl_Handle_t *pHandle)
 605:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 689              		.loc 1 605 1 is_stmt 1 view -0
 690              		.cfi_startproc
 691              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 25


 692              		@ frame_needed = 0, uses_anonymous_args = 0
 693              		@ link register save eliminated.
 606:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   bool retVal = false;
 694              		.loc 1 606 3 view .LVU205
 607:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 608:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 609:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 610:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
 611:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 612:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 613:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 614:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 615:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (0U == pHandle->RampRemainingStep)
 695              		.loc 1 615 5 view .LVU206
 616:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 617:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       retVal = true;
 618:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 619:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 620:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 621:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 622:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (retVal);
 696              		.loc 1 622 3 view .LVU207
 615:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 697              		.loc 1 615 8 is_stmt 0 view .LVU208
 698 0000 C068     		ldr	r0, [r0, #12]
 699              	.LVL49:
 623:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 700              		.loc 1 623 1 view .LVU209
 701 0002 B0FA80F0 		clz	r0, r0
 702              	.LVL50:
 703              		.loc 1 623 1 view .LVU210
 704 0006 4009     		lsrs	r0, r0, #5
 705 0008 7047     		bx	lr
 706              		.cfi_endproc
 707              	.LFE1102:
 709 000a 00BF     		.section	.text.STC_StopSpeedRamp,"ax",%progbits
 710              		.align	1
 711              		.p2align 2,,3
 712              		.weak	STC_StopSpeedRamp
 713              		.syntax unified
 714              		.thumb
 715              		.thumb_func
 717              	STC_StopSpeedRamp:
 718              	.LVL51:
 719              	.LFB1103:
 624:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 625:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 626:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Stops the execution of speed ramp by clearing the number of steps remaining to complete
 627:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 628:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval bool returning true if the command is executed, false otherwise.
 629:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 630:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Not used into current implementation.
 631:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 632:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak bool STC_StopSpeedRamp(SpeednTorqCtrl_Handle_t *pHandle)
 633:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 720              		.loc 1 633 1 is_stmt 1 view -0
 721              		.cfi_startproc
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 26


 722              		@ args = 0, pretend = 0, frame = 0
 723              		@ frame_needed = 0, uses_anonymous_args = 0
 724              		@ link register save eliminated.
 634:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   bool retVal = false;
 725              		.loc 1 634 3 view .LVU212
 635:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 636:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 637:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 638:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
 639:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 640:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 641:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 642:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 643:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     if (MCM_SPEED_MODE == pHandle->Mode)
 726              		.loc 1 643 5 view .LVU213
 727              		.loc 1 643 8 is_stmt 0 view .LVU214
 728 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 729 0002 032B     		cmp	r3, #3
 644:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     {
 645:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       pHandle->RampRemainingStep = 0u;
 730              		.loc 1 645 7 is_stmt 1 view .LVU215
 731              		.loc 1 645 34 is_stmt 0 view .LVU216
 732 0004 03BF     		ittte	eq
 733 0006 0023     		moveq	r3, #0
 734 0008 C360     		streq	r3, [r0, #12]
 646:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****       retVal = true;
 735              		.loc 1 646 7 is_stmt 1 view .LVU217
 736              	.LVL52:
 737              		.loc 1 646 14 is_stmt 0 view .LVU218
 738 000a 0120     		moveq	r0, #1
 739              	.LVL53:
 634:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 740              		.loc 1 634 8 view .LVU219
 741 000c 0020     		movne	r0, #0
 742              	.LVL54:
 647:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     }
 648:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 649:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 650:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 651:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (retVal);
 743              		.loc 1 651 3 is_stmt 1 view .LVU220
 652:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 744              		.loc 1 652 1 is_stmt 0 view .LVU221
 745 000e 7047     		bx	lr
 746              		.cfi_endproc
 747              	.LFE1103:
 749              		.section	.text.STC_GetDefaultIqdref,"ax",%progbits
 750              		.align	1
 751              		.p2align 2,,3
 752              		.weak	STC_GetDefaultIqdref
 753              		.syntax unified
 754              		.thumb
 755              		.thumb_func
 757              	STC_GetDefaultIqdref:
 758              	.LVL55:
 759              	.LFB1104:
 653:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 27


 654:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 655:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Returns the default values of Iqdref.
 656:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 657:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval default values of Iqdref.
 658:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 659:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called during the boot phase of the MC process.
 660:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 661:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** //cstat !MISRAC2012-Rule-8.13
 662:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak qd_t STC_GetDefaultIqdref(SpeednTorqCtrl_Handle_t *pHandle)
 663:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 760              		.loc 1 663 1 is_stmt 1 view -0
 761              		.cfi_startproc
 762              		@ args = 0, pretend = 0, frame = 8
 763              		@ frame_needed = 0, uses_anonymous_args = 0
 764              		@ link register save eliminated.
 664:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   qd_t IqdRefDefault;
 765              		.loc 1 664 3 view .LVU223
 665:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 666:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 667:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 668:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     IqdRefDefault.q = 0;
 669:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     IqdRefDefault.d = 0;
 670:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 671:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 672:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 673:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 674:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     IqdRefDefault.q = pHandle->TorqueRefDefault;
 766              		.loc 1 674 5 view .LVU224
 675:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     IqdRefDefault.d = pHandle->IdrefDefault;
 767              		.loc 1 675 5 view .LVU225
 676:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 677:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 678:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 679:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   return (IqdRefDefault);
 768              		.loc 1 679 3 view .LVU226
 674:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     IqdRefDefault.d = pHandle->IdrefDefault;
 769              		.loc 1 674 30 is_stmt 0 view .LVU227
 770 0000 D0F82E30 		ldr	r3, [r0, #46]	@ unaligned
 771              		.loc 1 679 10 view .LVU228
 772 0004 0022     		movs	r2, #0
 773 0006 99B2     		uxth	r1, r3
 774 0008 61F30F02 		bfi	r2, r1, #0, #16
 775 000c 1B0C     		lsrs	r3, r3, #16
 776 000e 63F31F42 		bfi	r2, r3, #16, #16
 663:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   qd_t IqdRefDefault;
 777              		.loc 1 663 1 view .LVU229
 778 0012 82B0     		sub	sp, sp, #8
 779              	.LCFI4:
 780              		.cfi_def_cfa_offset 8
 680:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 781              		.loc 1 680 1 view .LVU230
 782 0014 1046     		mov	r0, r2
 783              	.LVL56:
 784              		.loc 1 680 1 view .LVU231
 785 0016 02B0     		add	sp, sp, #8
 786              	.LCFI5:
 787              		.cfi_def_cfa_offset 0
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 28


 788              		@ sp needed
 789 0018 7047     		bx	lr
 790              		.cfi_endproc
 791              	.LFE1104:
 793 001a 00BF     		.section	.text.STC_SetNominalCurrent,"ax",%progbits
 794              		.align	1
 795              		.p2align 2,,3
 796              		.weak	STC_SetNominalCurrent
 797              		.syntax unified
 798              		.thumb
 799              		.thumb_func
 801              	STC_SetNominalCurrent:
 802              	.LVL57:
 803              	.LFB1105:
 681:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 682:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 683:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Changes the nominal current by setting new values of
 684:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         @ref SpeednTorqCtrl_Handle_t::MaxPositiveTorque "MaxPositiveTorque" and
 685:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         @ref SpeednTorqCtrl_Handle_t::MinNegativeTorque "MinNegativeTorque".
 686:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 687:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  hNominalCurrent: represents actually the maximum Iq current expressed in digit.
 688:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval none
 689:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 690:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Not used into current implementation.
 691:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 692:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak void STC_SetNominalCurrent(SpeednTorqCtrl_Handle_t *pHandle, uint16_t hNominalCurrent)
 693:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 804              		.loc 1 693 1 is_stmt 1 view -0
 805              		.cfi_startproc
 806              		@ args = 0, pretend = 0, frame = 0
 807              		@ frame_needed = 0, uses_anonymous_args = 0
 808              		@ link register save eliminated.
 694:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 695:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 696:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 697:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
 698:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 699:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 700:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 701:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 702:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->MaxPositiveTorque = hNominalCurrent;
 809              		.loc 1 702 5 view .LVU233
 703:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->MinNegativeTorque = -(int16_t)hNominalCurrent;
 810              		.loc 1 703 32 is_stmt 0 view .LVU234
 811 0000 4B42     		rsbs	r3, r1, #0
 702:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->MinNegativeTorque = -(int16_t)hNominalCurrent;
 812              		.loc 1 702 32 view .LVU235
 813 0002 C184     		strh	r1, [r0, #38]	@ movhi
 814              		.loc 1 703 5 is_stmt 1 view .LVU236
 815              		.loc 1 703 32 is_stmt 0 view .LVU237
 816 0004 0385     		strh	r3, [r0, #40]	@ movhi
 704:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 705:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 706:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 707:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 817              		.loc 1 707 1 view .LVU238
 818 0006 7047     		bx	lr
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 29


 819              		.cfi_endproc
 820              	.LFE1105:
 822              		.section	.text.STC_ForceSpeedReferenceToCurrentSpeed,"ax",%progbits
 823              		.align	1
 824              		.p2align 2,,3
 825              		.weak	STC_ForceSpeedReferenceToCurrentSpeed
 826              		.syntax unified
 827              		.thumb
 828              		.thumb_func
 830              	STC_ForceSpeedReferenceToCurrentSpeed:
 831              	.LVL58:
 832              	.LFB1106:
 708:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** 
 709:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** /**
 710:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @brief  Forces the speed reference
 711:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *         @ref SpeednTorqCtrl_Handle_t::SpeedRefUnitExt "SpeedRefUnitExt" to the current speed.
 712:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @param  pHandle: handler of the current instance of the SpeednTorqCtrl component.
 713:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * @retval none
 714:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   *
 715:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * - Called during the CHARGE_BOOT_CAP, SWITCH_OVER and WAIT_STOP_MOTOR states of the MC state mac
 716:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   * into MediumFrequencyTask to initialize the speed reference.
 717:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   */
 718:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** __weak void STC_ForceSpeedReferenceToCurrentSpeed(SpeednTorqCtrl_Handle_t *pHandle)
 719:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** {
 833              		.loc 1 719 1 is_stmt 1 view -0
 834              		.cfi_startproc
 835              		@ args = 0, pretend = 0, frame = 0
 836              		@ frame_needed = 0, uses_anonymous_args = 0
 720:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 721:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   if (MC_NULL == pHandle)
 722:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 723:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     /* Nothing to do */
 724:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 725:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   else
 726:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   {
 727:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 728:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****     pHandle->SpeedRefUnitExt = ((int32_t)SPD_GetAvrgMecSpeedUnit(pHandle->SPD)) * (int32_t)65536;
 837              		.loc 1 728 5 view .LVU240
 719:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 838              		.loc 1 719 1 is_stmt 0 view .LVU241
 839 0000 10B5     		push	{r4, lr}
 840              	.LCFI6:
 841              		.cfi_def_cfa_offset 8
 842              		.cfi_offset 4, -8
 843              		.cfi_offset 14, -4
 719:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 844              		.loc 1 719 1 view .LVU242
 845 0002 0446     		mov	r4, r0
 846              		.loc 1 728 42 view .LVU243
 847 0004 4069     		ldr	r0, [r0, #20]
 848              	.LVL59:
 849              		.loc 1 728 42 view .LVU244
 850 0006 FFF7FEFF 		bl	SPD_GetAvrgMecSpeedUnit
 851              	.LVL60:
 852              		.loc 1 728 81 view .LVU245
 853 000a 0004     		lsls	r0, r0, #16
 854              		.loc 1 728 30 view .LVU246
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 30


 855 000c 6060     		str	r0, [r4, #4]
 729:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #ifdef NULL_PTR_CHECK_SPD_TRQ_CTL
 730:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c ****   }
 731:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** #endif
 732:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_torq_ctrl.c **** }
 856              		.loc 1 732 1 view .LVU247
 857 000e 10BD     		pop	{r4, pc}
 858              		.loc 1 732 1 view .LVU248
 859              		.cfi_endproc
 860              	.LFE1106:
 862              		.text
 863              	.Letext0:
 864              		.file 2 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10.3-2021.10
 865              		.file 3 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10.3-2021.10
 866              		.file 4 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_ll_tim.h"
 867              		.file 5 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_ll_dma.h"
 868              		.file 6 "Inc/mc_type.h"
 869              		.file 7 "MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Inc/pid_regulator.h"
 870              		.file 8 "MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_pos_fdbk.h"
 871              		.file 9 "MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_torq_ctrl.h"
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s 			page 31


DEFINED SYMBOLS
                            *ABS*:00000000 speed_torq_ctrl.c
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:20     .text.STC_Init:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:27     .text.STC_Init:00000000 STC_Init
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:85     .text.STC_SetSpeedSensor:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:92     .text.STC_SetSpeedSensor:00000000 STC_SetSpeedSensor
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:109    .text.STC_GetSpeedSensor:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:116    .text.STC_GetSpeedSensor:00000000 STC_GetSpeedSensor
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:134    .text.STC_Clear:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:141    .text.STC_Clear:00000000 STC_Clear
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:168    .text.STC_GetMecSpeedRefUnit:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:175    .text.STC_GetMecSpeedRefUnit:00000000 STC_GetMecSpeedRefUnit
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:193    .text.STC_GetTorqueRef:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:200    .text.STC_GetTorqueRef:00000000 STC_GetTorqueRef
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:218    .text.STC_SetControlMode:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:225    .text.STC_SetControlMode:00000000 STC_SetControlMode
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:247    .text.STC_GetControlMode:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:254    .text.STC_GetControlMode:00000000 STC_GetControlMode
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:272    .text.STC_ExecRamp:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:279    .text.STC_ExecRamp:00000000 STC_ExecRamp
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:440    .text.STC_ExecRamp:00000084 $d
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:445    .text.STC_StopRamp:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:452    .text.STC_StopRamp:00000000 STC_StopRamp
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:473    .text.STC_CalcTorqueReference:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:480    .text.STC_CalcTorqueReference:00000000 STC_CalcTorqueReference
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:604    .text.STC_GetMecSpeedRefUnitDefault:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:611    .text.STC_GetMecSpeedRefUnitDefault:00000000 STC_GetMecSpeedRefUnitDefault
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:629    .text.STC_GetMaxAppPositiveMecSpeedUnit:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:636    .text.STC_GetMaxAppPositiveMecSpeedUnit:00000000 STC_GetMaxAppPositiveMecSpeedUnit
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:654    .text.STC_GetMinAppNegativeMecSpeedUnit:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:661    .text.STC_GetMinAppNegativeMecSpeedUnit:00000000 STC_GetMinAppNegativeMecSpeedUnit
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:679    .text.STC_RampCompleted:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:686    .text.STC_RampCompleted:00000000 STC_RampCompleted
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:710    .text.STC_StopSpeedRamp:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:717    .text.STC_StopSpeedRamp:00000000 STC_StopSpeedRamp
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:750    .text.STC_GetDefaultIqdref:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:757    .text.STC_GetDefaultIqdref:00000000 STC_GetDefaultIqdref
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:794    .text.STC_SetNominalCurrent:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:801    .text.STC_SetNominalCurrent:00000000 STC_SetNominalCurrent
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:823    .text.STC_ForceSpeedReferenceToCurrentSpeed:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccMpHvoW.s:830    .text.STC_ForceSpeedReferenceToCurrentSpeed:00000000 STC_ForceSpeedReferenceToCurrentSpeed

UNDEFINED SYMBOLS
PID_SetIntegralTerm
SPD_GetAvrgMecSpeedUnit
PI_Controller
