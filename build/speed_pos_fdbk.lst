ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 2
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"speed_pos_fdbk.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.SPD_GetElAngle,"ax",%progbits
  20              		.align	1
  21              		.p2align 2,,3
  22              		.weak	SPD_GetElAngle
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	SPD_GetElAngle:
  28              	.LVL0:
  29              	.LFB1088:
  30              		.file 1 "MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c"
   1:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** /**
   2:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   ******************************************************************************
   3:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @file    speed_pos_fdbk.c
   4:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @author  Motor Control SDK Team, ST Microelectronics
   5:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @brief   This file provides firmware functions that implement the  features
   6:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *          of the Speed & Position Feedback component of the Motor Control SDK.
   7:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *
   8:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   ******************************************************************************
   9:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @attention
  10:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *
  11:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * <h2><center>&copy; Copyright (c) 2023 STMicroelectronics.
  12:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * All rights reserved.</center></h2>
  13:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *
  14:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * This software component is licensed by ST under Ultimate Liberty license
  15:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * SLA0044, the "License"; You may not use this file except in compliance with
  16:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * the License. You may obtain a copy of the License at:
  17:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *                             www.st.com/SLA0044
  18:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *
  19:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   ******************************************************************************
  20:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   */
  21:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
  22:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** /* Includes ------------------------------------------------------------------*/
  23:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #include "speed_pos_fdbk.h"
  24:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
  25:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** /** @addtogroup MCSDK
  26:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @{
  27:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   */
  28:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s 			page 2


  29:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** /** @defgroup SpeednPosFdbk Speed & Position Feedback
  30:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *
  31:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @brief Speed & Position Feedback components of the Motor Control SDK
  32:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *
  33:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * These components provide the speed and the angular position of the rotor of a motor (both
  34:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * electrical and mechanical). These informations are expressed in units defined into [measurement
  35:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *
  36:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * Several implementations of the Speed and Position Feedback feature are provided by the Motor
  37:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * to account for the specificities of the motor used on the application:
  38:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *
  39:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * - @ref hall_speed_pos_fdbk "Hall Speed & Position Feedback" for motors with Hall effect sensors
  40:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * - @ref Encoder "Encoder Speed & Position Feedback" for motors with a quadrature encoder.
  41:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * - Two general purpose sensorless implementations are provided:
  42:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *   @ref SpeednPosFdbk_STO "State Observer with PLL" and
  43:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *   @ref STO_CORDIC_SpeednPosFdbk "State Observer with CORDIC"
  44:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * - A @ref VirtualSpeedSensor "Virtual Speed & Position Feedback" implementation used during the
  45:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *   @ref RevUpCtrl "Rev-Up Control" phases of the motor in a sensorless subsystem.
  46:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * - @ref In the future a High Frequency Injection for anisotropic I-PMSM motors will be supported
  47:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *
  48:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *   For more information see the user manual [Speed position and sensorless BEMF reconstruction](
  49:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @{
  50:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   */
  51:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
  52:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #if defined (CCMRAM)
  53:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #if defined (__ICCARM__)
  54:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #pragma location = ".ccmram"
  55:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #elif defined (__CC_ARM) || defined(__GNUC__)
  56:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** __attribute__((section(".ccmram")))
  57:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #endif
  58:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #endif
  59:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** /**
  60:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @brief  Returns the last computed rotor electrical angle, expressed in [s16degrees](measurement
  61:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @param  pHandle: handler of the current instance of the SpeednPosFdbk component.
  62:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @retval int16_t rotor electrical angle.
  63:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   */
  64:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** __weak int16_t SPD_GetElAngle(const SpeednPosFdbk_Handle_t *pHandle)
  65:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** {
  31              		.loc 1 65 1 view -0
  32              		.cfi_startproc
  33              		@ args = 0, pretend = 0, frame = 0
  34              		@ frame_needed = 0, uses_anonymous_args = 0
  35              		@ link register save eliminated.
  66:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #ifdef NULL_PTR_CHECK_SPD_POS_FBK
  67:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   return ((MC_NULL == pHandle) ? 0 : pHandle->hElAngle);
  68:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #else
  69:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   return (pHandle->hElAngle);
  36              		.loc 1 69 3 view .LVU1
  70:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #endif
  71:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** }
  37              		.loc 1 71 1 is_stmt 0 view .LVU2
  38 0000 B0F90400 		ldrsh	r0, [r0, #4]
  39              	.LVL1:
  40              		.loc 1 71 1 view .LVU3
  41 0004 7047     		bx	lr
  42              		.cfi_endproc
  43              	.LFE1088:
  45 0006 00BF     		.section	.text.SPD_GetMecAngle,"ax",%progbits
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s 			page 3


  46              		.align	1
  47              		.p2align 2,,3
  48              		.weak	SPD_GetMecAngle
  49              		.syntax unified
  50              		.thumb
  51              		.thumb_func
  53              	SPD_GetMecAngle:
  54              	.LVL2:
  55              	.LFB1089:
  72:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
  73:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** /**
  74:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @brief  Returns the last computed rotor mechanical angle, expressed in [s16degrees](measurement
  75:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @note   Both Hall sensor and Sensor-less application do not implement either mechanical angle c
  76:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *         acceleration computation.
  77:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @param  pHandle: handler of the current instance of the SpeednPosFdbk component.
  78:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @retval int16_t rotor mechanical angle.
  79:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *
  80:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * - Mechanical angle frame is based on parameter @ref SpeednPosFdbk_Handle_t::bElToMecRatio "bElT
  81:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * and, if occasionally provided through Encoder function of a measured mechanical angle, on infor
  82:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * thereof.
  83:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * - Called to set a mechanical position ot the rotor.
  84:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   */
  85:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** __weak int32_t SPD_GetMecAngle(const SpeednPosFdbk_Handle_t *pHandle)
  86:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** {
  56              		.loc 1 86 1 is_stmt 1 view -0
  57              		.cfi_startproc
  58              		@ args = 0, pretend = 0, frame = 0
  59              		@ frame_needed = 0, uses_anonymous_args = 0
  60              		@ link register save eliminated.
  87:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #ifdef NULL_PTR_CHECK_SPD_POS_FBK
  88:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   return ((MC_NULL == pHandle) ? 0 : pHandle->wMecAngle);
  89:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #else
  90:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   return (pHandle->wMecAngle);
  61              		.loc 1 90 3 view .LVU5
  91:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #endif
  92:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** }
  62              		.loc 1 92 1 is_stmt 0 view .LVU6
  63 0000 8068     		ldr	r0, [r0, #8]
  64              	.LVL3:
  65              		.loc 1 92 1 view .LVU7
  66 0002 7047     		bx	lr
  67              		.cfi_endproc
  68              	.LFE1089:
  70              		.section	.text.SPD_GetAvrgMecSpeedUnit,"ax",%progbits
  71              		.align	1
  72              		.p2align 2,,3
  73              		.weak	SPD_GetAvrgMecSpeedUnit
  74              		.syntax unified
  75              		.thumb
  76              		.thumb_func
  78              	SPD_GetAvrgMecSpeedUnit:
  79              	.LVL4:
  80              	.LFB1090:
  93:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
  94:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** /**
  95:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @brief  Returns the last computed average mechanical speed, expressed in
  96:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *         the unit defined by [SPEED_UNIT](measurement_units.md).
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s 			page 4


  97:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @param  pHandle: handler of the current instance of the SpeednPosFdbk component.
  98:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   */
  99:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** __weak int16_t SPD_GetAvrgMecSpeedUnit(const SpeednPosFdbk_Handle_t *pHandle)
 100:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** {
  81              		.loc 1 100 1 is_stmt 1 view -0
  82              		.cfi_startproc
  83              		@ args = 0, pretend = 0, frame = 0
  84              		@ frame_needed = 0, uses_anonymous_args = 0
  85              		@ link register save eliminated.
 101:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #ifdef NULL_PTR_CHECK_SPD_POS_FBK
 102:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   return ((MC_NULL == pHandle) ? 0 : pHandle->hAvrMecSpeedUnit);
 103:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #else
 104:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   return (pHandle->hAvrMecSpeedUnit);
  86              		.loc 1 104 3 view .LVU9
 105:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #endif
 106:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** }
  87              		.loc 1 106 1 is_stmt 0 view .LVU10
  88 0000 B0F90C00 		ldrsh	r0, [r0, #12]
  89              	.LVL5:
  90              		.loc 1 106 1 view .LVU11
  91 0004 7047     		bx	lr
  92              		.cfi_endproc
  93              	.LFE1090:
  95 0006 00BF     		.section	.text.SPD_GetElSpeedDpp,"ax",%progbits
  96              		.align	1
  97              		.p2align 2,,3
  98              		.weak	SPD_GetElSpeedDpp
  99              		.syntax unified
 100              		.thumb
 101              		.thumb_func
 103              	SPD_GetElSpeedDpp:
 104              	.LVL6:
 105              	.LFB1091:
 107:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
 108:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** /**
 109:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @brief  Returns the last computed electrical speed, expressed in [dpp](measurement_units.md).
 110:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @param  pHandle: handler of the current instance of the SpeednPosFdbk component.
 111:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @retval int16_t rotor electrical speed ([dpp](measurement_units.md)).
 112:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *
 113:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * - The control period is the period on which the rotor electrical angle is computed thanks
 114:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *   to HALL effect sensor functions.
 115:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * - Called during feed-forward controller computation and during Motor profiling.
 116:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   */
 117:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** __weak int16_t SPD_GetElSpeedDpp(const SpeednPosFdbk_Handle_t *pHandle)
 118:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** {
 106              		.loc 1 118 1 is_stmt 1 view -0
 107              		.cfi_startproc
 108              		@ args = 0, pretend = 0, frame = 0
 109              		@ frame_needed = 0, uses_anonymous_args = 0
 110              		@ link register save eliminated.
 119:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #ifdef NULL_PTR_CHECK_SPD_POS_FBK
 120:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   return ((MC_NULL == pHandle) ? 0 : pHandle->hElSpeedDpp);
 121:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #else
 122:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   return (pHandle->hElSpeedDpp);
 111              		.loc 1 122 3 view .LVU13
 123:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #endif
 124:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** }
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s 			page 5


 112              		.loc 1 124 1 is_stmt 0 view .LVU14
 113 0000 B0F90E00 		ldrsh	r0, [r0, #14]
 114              	.LVL7:
 115              		.loc 1 124 1 view .LVU15
 116 0004 7047     		bx	lr
 117              		.cfi_endproc
 118              	.LFE1091:
 120 0006 00BF     		.section	.text.SPD_GetInstElSpeedDpp,"ax",%progbits
 121              		.align	1
 122              		.p2align 2,,3
 123              		.weak	SPD_GetInstElSpeedDpp
 124              		.syntax unified
 125              		.thumb
 126              		.thumb_func
 128              	SPD_GetInstElSpeedDpp:
 129              	.LVL8:
 130              	.LFB1092:
 125:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
 126:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #if defined (CCMRAM)
 127:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #if defined (__ICCARM__)
 128:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #pragma location = ".ccmram"
 129:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #elif defined (__CC_ARM) || defined(__GNUC__)
 130:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** __attribute__((section(".ccmram")))
 131:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #endif
 132:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #endif
 133:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** /**
 134:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @brief  Returns the last instantaneous computed electrical speed, expressed in [dpp](measuremen
 135:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @param  pHandle: handler of the current instance of the SpeednPosFdbk component.
 136:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @retval int16_t rotor instantaneous electrical speed ([dpp](measurement_units.md)).
 137:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *
 138:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * - The control period is the period on which the rotor electrical angle is computed thanks to HA
 139:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *   functions.
 140:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * - Called during FOC drive control for Iqd currents regulation.
 141:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   */
 142:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** __weak int16_t SPD_GetInstElSpeedDpp(const SpeednPosFdbk_Handle_t *pHandle)
 143:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** {
 131              		.loc 1 143 1 is_stmt 1 view -0
 132              		.cfi_startproc
 133              		@ args = 0, pretend = 0, frame = 0
 134              		@ frame_needed = 0, uses_anonymous_args = 0
 135              		@ link register save eliminated.
 144:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #ifdef NULL_PTR_CHECK_SPD_POS_FBK
 145:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   return ((MC_NULL == pHandle) ? 0 : pHandle->InstantaneousElSpeedDpp);
 146:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #else
 147:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   return (pHandle->InstantaneousElSpeedDpp);
 136              		.loc 1 147 3 view .LVU17
 148:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #endif
 149:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** }
 137              		.loc 1 149 1 is_stmt 0 view .LVU18
 138 0000 B0F91000 		ldrsh	r0, [r0, #16]
 139              	.LVL9:
 140              		.loc 1 149 1 view .LVU19
 141 0004 7047     		bx	lr
 142              		.cfi_endproc
 143              	.LFE1092:
 145 0006 00BF     		.section	.text.SPD_Check,"ax",%progbits
 146              		.align	1
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s 			page 6


 147              		.p2align 2,,3
 148              		.weak	SPD_Check
 149              		.syntax unified
 150              		.thumb
 151              		.thumb_func
 153              	SPD_Check:
 154              	.LVL10:
 155              	.LFB1093:
 150:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
 151:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** /**
 152:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @brief  Returns the result of the last reliability check performed.
 153:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @param  pHandle: handler of the current instance of the SpeednPosFdbk component.
 154:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @retval bool sensor reliability state.
 155:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *
 156:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * - Reliability is measured with reference to parameters
 157:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @ref SpeednPosFdbk_Handle_t::hMaxReliableMecSpeedUnit "hMaxReliableMecSpeedUnit",
 158:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @ref SpeednPosFdbk_Handle_t::hMinReliableMecSpeedUnit "hMaxReliableMecSpeedUnit",
 159:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @ref SpeednPosFdbk_Handle_t::bMaximumSpeedErrorsNumber "bMaximumSpeedErrorsNumber".
 160:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * - If the number of time the average mechanical speed is not valid matches the
 161:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *  maximum value of not valid speed measurements, sensor information is not reliable.
 162:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * - Embedded into construction of the MC_GetSpeedSensorReliabilityMotor API.
 163:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * - The return value is a boolean that expresses:\n
 164:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * -- true  = sensor information is reliable.\n
 165:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * -- false = sensor information is not reliable.
 166:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   */
 167:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** __weak bool SPD_Check(const SpeednPosFdbk_Handle_t *pHandle)
 168:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** {
 156              		.loc 1 168 1 is_stmt 1 view -0
 157              		.cfi_startproc
 158              		@ args = 0, pretend = 0, frame = 0
 159              		@ frame_needed = 0, uses_anonymous_args = 0
 160              		@ link register save eliminated.
 169:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   bool SpeedSensorReliability = true;
 161              		.loc 1 169 3 view .LVU21
 170:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #ifdef NULL_PTR_CHECK_SPD_POS_FBK
 171:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   if ((MC_NULL == pHandle) || (pHandle->bSpeedErrorNumber == pHandle->bMaximumSpeedErrorsNumber))
 172:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #else
 173:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   if (pHandle->bSpeedErrorNumber == pHandle->bMaximumSpeedErrorsNumber)
 162              		.loc 1 173 3 view .LVU22
 174:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #endif
 175:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   {
 176:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     SpeedSensorReliability = false;
 177:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   }
 178:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   else
 179:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   {
 180:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     /* Nothing to do */
 181:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   }
 163              		.loc 1 181 3 view .LVU23
 182:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   return (SpeedSensorReliability);
 164              		.loc 1 182 3 view .LVU24
 173:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #endif
 165              		.loc 1 173 6 is_stmt 0 view .LVU25
 166 0000 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 167 0002 C078     		ldrb	r0, [r0, #3]	@ zero_extendqisi2
 168              	.LVL11:
 183:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** }
 169              		.loc 1 183 1 view .LVU26
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s 			page 7


 170 0004 101A     		subs	r0, r2, r0
 171              	.LVL12:
 172              		.loc 1 183 1 view .LVU27
 173 0006 18BF     		it	ne
 174 0008 0120     		movne	r0, #1
 175 000a 7047     		bx	lr
 176              		.cfi_endproc
 177              	.LFE1093:
 179              		.section	.text.SPD_IsMecSpeedReliable,"ax",%progbits
 180              		.align	1
 181              		.p2align 2,,3
 182              		.weak	SPD_IsMecSpeedReliable
 183              		.syntax unified
 184              		.thumb
 185              		.thumb_func
 187              	SPD_IsMecSpeedReliable:
 188              	.LVL13:
 189              	.LFB1094:
 184:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
 185:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #if defined (CCMRAM)
 186:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #if defined (__ICCARM__)
 187:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #pragma location = ".ccmram"
 188:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #elif defined (__CC_ARM) || defined(__GNUC__)
 189:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** __attribute__((section(".ccmram")))
 190:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #endif
 191:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #endif
 192:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
 193:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** /**
 194:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @brief  Computes and returns through parameter @ref SpeednPosFdbk_Handle_t::pMecSpeedUnit "pMec
 195:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *         the rotor average mechanical speed, expressed in the unit defined by
 196:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *         @ref SpeednPosFdbk_Handle_t::SpeedUnit "SpeedUnit".
 197:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @param  pHandle: handler of the current instance of the SpeednPosFdbk component.
 198:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @param  pMecSpeedUnit: pointer to int16_t, used to return the rotor average
 199:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *         mechanical speed (expressed in the unit defined by [SPEED_UNIT](measurement_units.md).
 200:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @retval none
 201:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *
 202:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * - Computes and returns the reliability state of the sensor. Reliability is measured with
 203:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * reference to parameters @ref SpeednPosFdbk_Handle_t::hMinReliableMecSpeedUnit "hMinReliableMecS
 204:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @ref SpeednPosFdbk_Handle_t::hMaxReliableMecSpeedUnit "hMaxReliableMecSpeedUnit",
 205:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @ref SpeednPosFdbk_Handle_t::bMaximumSpeedErrorsNumber "bMaximumSpeedErrorsNumber"\n
 206:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * -- true  = sensor information is reliable.\n
 207:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * -- false = sensor information is not reliable.\n
 208:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * - Called at least with the same periodicity on which speed control is executed.
 209:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *         -
 210:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
 211:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   */
 212:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** __weak bool SPD_IsMecSpeedReliable(SpeednPosFdbk_Handle_t *pHandle, const int16_t *pMecSpeedUnit)
 213:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** {
 190              		.loc 1 213 1 is_stmt 1 view -0
 191              		.cfi_startproc
 192              		@ args = 0, pretend = 0, frame = 0
 193              		@ frame_needed = 0, uses_anonymous_args = 0
 214:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   bool SpeedSensorReliability = true;
 194              		.loc 1 214 3 view .LVU29
 215:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #ifdef NULL_PTR_CHECK_SPD_POS_FBK
 216:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   if ((MC_NULL == pHandle) || (MC_NULL == pMecSpeedUnit))
 217:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   {
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s 			page 8


 218:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     SpeedSensorReliability = false;
 219:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   }
 220:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   else
 221:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   {
 222:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #endif
 223:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     uint16_t hAbsMecSpeedUnit;
 195              		.loc 1 223 5 view .LVU30
 224:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     uint16_t hAbsMecAccelUnitP;
 196              		.loc 1 224 5 view .LVU31
 225:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     int16_t hAux;
 197              		.loc 1 225 5 view .LVU32
 226:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     uint8_t bSpeedErrorNumber;
 198              		.loc 1 226 5 view .LVU33
 227:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     uint8_t bMaximumSpeedErrorsNumber = pHandle->bMaximumSpeedErrorsNumber;
 199              		.loc 1 227 5 view .LVU34
 228:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     bool SpeedError = false;
 229:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
 230:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     bSpeedErrorNumber = pHandle->bSpeedErrorNumber;
 231:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
 232:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     /* Compute absoulte value of mechanical speed */
 233:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     if (*pMecSpeedUnit < 0)
 200              		.loc 1 233 9 is_stmt 0 view .LVU35
 201 0000 B1F90030 		ldrsh	r3, [r1]
 234:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     {
 235:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       hAux = -(*pMecSpeedUnit);
 236:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       hAbsMecSpeedUnit = (uint16_t)hAux;
 237:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     }
 238:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     else
 239:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     {
 240:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       hAbsMecSpeedUnit = (uint16_t)(*pMecSpeedUnit);
 241:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     }
 242:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
 243:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     if (hAbsMecSpeedUnit > pHandle->hMaxReliableMecSpeedUnit)
 202              		.loc 1 243 35 view .LVU36
 203 0004 818A     		ldrh	r1, [r0, #20]
 204              	.LVL14:
 213:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   bool SpeedSensorReliability = true;
 205              		.loc 1 213 1 view .LVU37
 206 0006 00B5     		push	{lr}
 207              	.LCFI0:
 208              		.cfi_def_cfa_offset 4
 209              		.cfi_offset 14, -4
 233:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     {
 210              		.loc 1 233 8 view .LVU38
 211 0008 002B     		cmp	r3, #0
 235:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       hAbsMecSpeedUnit = (uint16_t)hAux;
 212              		.loc 1 235 12 view .LVU39
 213 000a B8BF     		it	lt
 214 000c 5B42     		rsblt	r3, r3, #0
 244:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     {
 245:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       SpeedError = true;
 246:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     }
 247:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     else
 248:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     {
 249:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       /* Nothing to do */
 250:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     }
 251:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s 			page 9


 252:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     if (hAbsMecSpeedUnit < pHandle->hMinReliableMecSpeedUnit)
 215              		.loc 1 252 8 view .LVU40
 216 000e B0F816E0 		ldrh	lr, [r0, #22]
 227:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     bool SpeedError = false;
 217              		.loc 1 227 13 view .LVU41
 218 0012 90F803C0 		ldrb	ip, [r0, #3]	@ zero_extendqisi2
 219              	.LVL15:
 228:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
 220              		.loc 1 228 5 is_stmt 1 view .LVU42
 230:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
 221              		.loc 1 230 5 view .LVU43
 230:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
 222              		.loc 1 230 23 is_stmt 0 view .LVU44
 223 0016 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 224              	.LVL16:
 233:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     {
 225              		.loc 1 233 5 is_stmt 1 view .LVU45
 235:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       hAbsMecSpeedUnit = (uint16_t)hAux;
 226              		.loc 1 235 7 view .LVU46
 240:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     }
 227              		.loc 1 240 7 view .LVU47
 240:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     }
 228              		.loc 1 240 24 is_stmt 0 view .LVU48
 229 0018 9BB2     		uxth	r3, r3
 230              	.LVL17:
 243:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     {
 231              		.loc 1 243 5 is_stmt 1 view .LVU49
 250:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
 232              		.loc 1 250 5 view .LVU50
 233              		.loc 1 252 5 view .LVU51
 234              		.loc 1 252 8 is_stmt 0 view .LVU52
 235 001a 9E45     		cmp	lr, r3
 236 001c 19D8     		bhi	.L17
 243:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     {
 237              		.loc 1 243 8 view .LVU53
 238 001e 9942     		cmp	r1, r3
 239 0020 2CBF     		ite	cs
 240 0022 0023     		movcs	r3, #0
 241              	.LVL18:
 243:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     {
 242              		.loc 1 243 8 view .LVU54
 243 0024 0123     		movcc	r3, #1
 244              	.L11:
 245              	.LVL19:
 253:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     {
 254:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       SpeedError = true;
 255:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     }
 256:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     else
 257:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     {
 258:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       /* Nothing to do */
 259:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     }
 246              		.loc 1 259 5 is_stmt 1 view .LVU55
 260:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
 261:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     /* Compute absoulte value of mechanical acceleration */
 262:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     if (pHandle->hMecAccelUnitP < 0)
 247              		.loc 1 262 5 view .LVU56
 248              		.loc 1 262 16 is_stmt 0 view .LVU57
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s 			page 10


 249 0026 B0F91210 		ldrsh	r1, [r0, #18]
 263:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     {
 264:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       hAux = -(pHandle->hMecAccelUnitP);
 265:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       hAbsMecAccelUnitP = (uint16_t)hAux;
 266:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     }
 267:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     else
 268:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     {
 269:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       hAbsMecAccelUnitP = (uint16_t)pHandle->hMecAccelUnitP;
 270:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     }
 271:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
 272:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     if (hAbsMecAccelUnitP > pHandle->hMaxReliableMecAccelUnitP)
 250              		.loc 1 272 8 view .LVU58
 251 002a B0F818E0 		ldrh	lr, [r0, #24]
 262:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     {
 252              		.loc 1 262 8 view .LVU59
 253 002e 0029     		cmp	r1, #0
 264:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       hAbsMecAccelUnitP = (uint16_t)hAux;
 254              		.loc 1 264 7 is_stmt 1 view .LVU60
 264:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       hAbsMecAccelUnitP = (uint16_t)hAux;
 255              		.loc 1 264 12 is_stmt 0 view .LVU61
 256 0030 B8BF     		it	lt
 257 0032 4942     		rsblt	r1, r1, #0
 269:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     }
 258              		.loc 1 269 7 is_stmt 1 view .LVU62
 269:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     }
 259              		.loc 1 269 25 is_stmt 0 view .LVU63
 260 0034 89B2     		uxth	r1, r1
 261              	.LVL20:
 262              		.loc 1 272 5 is_stmt 1 view .LVU64
 263              		.loc 1 272 8 is_stmt 0 view .LVU65
 264 0036 8E45     		cmp	lr, r1
 265 0038 00D3     		bcc	.L14
 273:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     {
 274:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       SpeedError = true;
 275:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     }
 276:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     else
 277:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     {
 278:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       /* Nothing to do */
 279:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     }
 266              		.loc 1 279 5 is_stmt 1 view .LVU66
 280:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
 281:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     if (true == SpeedError)
 267              		.loc 1 281 5 view .LVU67
 268              		.loc 1 281 8 is_stmt 0 view .LVU68
 269 003a 63B1     		cbz	r3, .L15
 270              	.L14:
 271              	.LVL21:
 282:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     {
 283:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       if (bSpeedErrorNumber < bMaximumSpeedErrorsNumber)
 272              		.loc 1 283 7 is_stmt 1 view .LVU69
 273              		.loc 1 283 10 is_stmt 0 view .LVU70
 274 003c 9445     		cmp	ip, r2
 275 003e 01D9     		bls	.L16
 284:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       {
 285:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****         bSpeedErrorNumber++;
 276              		.loc 1 285 9 is_stmt 1 view .LVU71
 277              		.loc 1 285 26 is_stmt 0 view .LVU72
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s 			page 11


 278 0040 0132     		adds	r2, r2, #1
 279              	.LVL22:
 280              		.loc 1 285 26 view .LVU73
 281 0042 D2B2     		uxtb	r2, r2
 282              	.LVL23:
 283              	.L16:
 286:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       }
 287:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       else
 288:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       {
 289:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****         /* Nothing to do */
 290:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       }
 291:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     }
 292:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     else
 293:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     {
 294:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       if (bSpeedErrorNumber < bMaximumSpeedErrorsNumber)
 295:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       {
 296:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****         bSpeedErrorNumber = 0u;
 297:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       }
 298:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       else
 299:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       {
 300:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****         /* Nothing to do */
 301:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       }
 284              		.loc 1 301 7 is_stmt 1 view .LVU74
 302:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     }
 303:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
 304:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     if (bSpeedErrorNumber == bMaximumSpeedErrorsNumber)
 285              		.loc 1 304 5 view .LVU75
 305:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     {
 306:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       SpeedSensorReliability = false;
 307:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     }
 308:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     else
 309:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     {
 310:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       /* Nothing to do */
 311:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     }
 286              		.loc 1 311 5 view .LVU76
 312:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
 313:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     pHandle->bSpeedErrorNumber = bSpeedErrorNumber;
 287              		.loc 1 313 5 view .LVU77
 288              		.loc 1 313 32 is_stmt 0 view .LVU78
 289 0044 0270     		strb	r2, [r0]
 290              	.LVL24:
 314:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #ifdef NULL_PTR_CHECK_SPD_POS_FBK
 315:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   }
 316:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #endif
 317:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   return (SpeedSensorReliability);
 291              		.loc 1 317 3 is_stmt 1 view .LVU79
 318:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** }
 292              		.loc 1 318 1 is_stmt 0 view .LVU80
 293 0046 B2EB0C00 		subs	r0, r2, ip
 294              	.LVL25:
 295              		.loc 1 318 1 view .LVU81
 296 004a 18BF     		it	ne
 297 004c 0120     		movne	r0, #1
 298 004e 5DF804FB 		ldr	pc, [sp], #4
 299              	.LVL26:
 300              	.L17:
 254:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     }
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s 			page 12


 301              		.loc 1 254 18 view .LVU82
 302 0052 0123     		movs	r3, #1
 303              	.LVL27:
 254:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     }
 304              		.loc 1 254 18 view .LVU83
 305 0054 E7E7     		b	.L11
 306              	.LVL28:
 307              	.L15:
 294:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       {
 308              		.loc 1 294 7 is_stmt 1 view .LVU84
 296:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****       }
 309              		.loc 1 296 27 is_stmt 0 view .LVU85
 310 0056 9445     		cmp	ip, r2
 311 0058 88BF     		it	hi
 312 005a 0022     		movhi	r2, #0
 313              	.LVL29:
 301:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     }
 314              		.loc 1 301 7 is_stmt 1 view .LVU86
 304:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     {
 315              		.loc 1 304 5 view .LVU87
 311:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
 316              		.loc 1 311 5 view .LVU88
 313:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #ifdef NULL_PTR_CHECK_SPD_POS_FBK
 317              		.loc 1 313 5 view .LVU89
 313:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #ifdef NULL_PTR_CHECK_SPD_POS_FBK
 318              		.loc 1 313 32 is_stmt 0 view .LVU90
 319 005c 0270     		strb	r2, [r0]
 320              	.LVL30:
 317:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** }
 321              		.loc 1 317 3 is_stmt 1 view .LVU91
 322              		.loc 1 318 1 is_stmt 0 view .LVU92
 323 005e B2EB0C00 		subs	r0, r2, ip
 324              	.LVL31:
 325              		.loc 1 318 1 view .LVU93
 326 0062 18BF     		it	ne
 327 0064 0120     		movne	r0, #1
 328 0066 5DF804FB 		ldr	pc, [sp], #4
 329              		.cfi_endproc
 330              	.LFE1094:
 332 006a 00BF     		.section	.text.SPD_GetS16Speed,"ax",%progbits
 333              		.align	1
 334              		.p2align 2,,3
 335              		.weak	SPD_GetS16Speed
 336              		.syntax unified
 337              		.thumb
 338              		.thumb_func
 340              	SPD_GetS16Speed:
 341              	.LVL32:
 342              	.LFB1095:
 319:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
 320:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** /**
 321:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @brief  Returns the average mechanical rotor speed expressed in [S16Speed](measurement_units.md
 322:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @param  pHandle: handler of the current instance of the SpeednPosFdbk component
 323:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @retval int16_t The average mechanical rotor speed.
 324:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *
 325:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * - The value equals:\n
 326:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * -- zero      when the average mechanical speed is equal zero,\n
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s 			page 13


 327:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * -- INT16_MAX when the average mechanical speed is equal to
 328:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @ref SpeednPosFdbk_Handle_t::hMaxReliableMecSpeedUnit "hMaxReliableMecSpeedUnit" ,\n
 329:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * - Called for speed monitoring through MotorPilote.
 330:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   */
 331:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** __weak int16_t SPD_GetS16Speed(const SpeednPosFdbk_Handle_t *pHandle)
 332:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** {
 343              		.loc 1 332 1 is_stmt 1 view -0
 344              		.cfi_startproc
 345              		@ args = 0, pretend = 0, frame = 0
 346              		@ frame_needed = 0, uses_anonymous_args = 0
 347              		@ link register save eliminated.
 333:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   int16_t tempValue;
 348              		.loc 1 333 3 view .LVU95
 334:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #ifdef NULL_PTR_CHECK_SPD_POS_FBK
 335:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   if (MC_NULL == pHandle)
 336:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   {
 337:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     tempValue = 0;
 338:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   }
 339:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   else
 340:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   {
 341:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #endif
 342:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     int32_t wAux = (int32_t)pHandle->hAvrMecSpeedUnit;
 349              		.loc 1 342 5 view .LVU96
 343:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     wAux *= INT16_MAX;
 350              		.loc 1 343 5 view .LVU97
 351              		.loc 1 343 10 is_stmt 0 view .LVU98
 352 0000 B0F90C30 		ldrsh	r3, [r0, #12]
 353              	.LVL33:
 344:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     wAux /= (int16_t)pHandle->hMaxReliableMecSpeedUnit;
 354              		.loc 1 344 13 view .LVU99
 355 0004 B0F91400 		ldrsh	r0, [r0, #20]
 356              	.LVL34:
 343:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     wAux *= INT16_MAX;
 357              		.loc 1 343 10 view .LVU100
 358 0008 C3EBC333 		rsb	r3, r3, r3, lsl #15
 359              	.LVL35:
 360              		.loc 1 344 5 is_stmt 1 view .LVU101
 345:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     tempValue = (int16_t)wAux;
 361              		.loc 1 345 5 view .LVU102
 346:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #ifdef NULL_PTR_CHECK_SPD_POS_FBK
 347:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   }
 348:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #endif
 349:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   return (tempValue);
 362              		.loc 1 349 3 view .LVU103
 344:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     tempValue = (int16_t)wAux;
 363              		.loc 1 344 10 is_stmt 0 view .LVU104
 364 000c 93FBF0F0 		sdiv	r0, r3, r0
 350:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** }
 365              		.loc 1 350 1 view .LVU105
 366 0010 00B2     		sxth	r0, r0
 367 0012 7047     		bx	lr
 368              		.cfi_endproc
 369              	.LFE1095:
 371              		.section	.text.SPD_GetElToMecRatio,"ax",%progbits
 372              		.align	1
 373              		.p2align 2,,3
 374              		.weak	SPD_GetElToMecRatio
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s 			page 14


 375              		.syntax unified
 376              		.thumb
 377              		.thumb_func
 379              	SPD_GetElToMecRatio:
 380              	.LVL36:
 381              	.LFB1096:
 351:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
 352:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** /**
 353:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @brief  Returns the coefficient used to transform electrical to
 354:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *         mechanical quantities and viceversa. It usually coincides with motor
 355:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *         pole pairs number.
 356:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @param  pHandle: handler of the current instance of the SpeednPosFdbk component.
 357:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @retval uint8_t The motor pole pairs number.
 358:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *
 359:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * - Called by motor profiling functions and for monitoring through motorPilote.
 360:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   */
 361:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** __weak uint8_t SPD_GetElToMecRatio(const SpeednPosFdbk_Handle_t *pHandle)
 362:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** {
 382              		.loc 1 362 1 is_stmt 1 view -0
 383              		.cfi_startproc
 384              		@ args = 0, pretend = 0, frame = 0
 385              		@ frame_needed = 0, uses_anonymous_args = 0
 386              		@ link register save eliminated.
 363:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #ifdef NULL_PTR_CHECK_SPD_POS_FBK
 364:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   return ((MC_NULL == pHandle) ? 0U : pHandle->bElToMecRatio);
 365:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #else
 366:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   return (pHandle->bElToMecRatio);
 387              		.loc 1 366 3 view .LVU107
 367:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #endif
 368:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** }
 388              		.loc 1 368 1 is_stmt 0 view .LVU108
 389 0000 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 390              	.LVL37:
 391              		.loc 1 368 1 view .LVU109
 392 0002 7047     		bx	lr
 393              		.cfi_endproc
 394              	.LFE1096:
 396              		.section	.text.SPD_SetElToMecRatio,"ax",%progbits
 397              		.align	1
 398              		.p2align 2,,3
 399              		.weak	SPD_SetElToMecRatio
 400              		.syntax unified
 401              		.thumb
 402              		.thumb_func
 404              	SPD_SetElToMecRatio:
 405              	.LVL38:
 406              	.LFB1097:
 369:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** 
 370:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** /**
 371:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @brief  Sets the coefficient used to transform electrical to
 372:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *         mechanical quantities and viceversa. It usually coincides with motor
 373:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *         pole pairs number.
 374:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @param  pHandle: handler of the current instance of the SpeednPosFdbk component.
 375:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * @param  bPP The motor pole pairs number to be set.
 376:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   *
 377:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   * - Called only for monitoring through motorPilote.
 378:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   */
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s 			page 15


 379:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** __weak void SPD_SetElToMecRatio(SpeednPosFdbk_Handle_t *pHandle, uint8_t bPP)
 380:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** {
 407              		.loc 1 380 1 is_stmt 1 view -0
 408              		.cfi_startproc
 409              		@ args = 0, pretend = 0, frame = 0
 410              		@ frame_needed = 0, uses_anonymous_args = 0
 411              		@ link register save eliminated.
 381:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #ifdef NULL_PTR_CHECK_SPD_POS_FBK
 382:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   if (MC_NULL == pHandle)
 383:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   {
 384:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     /* Nothing to do */
 385:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   }
 386:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   else
 387:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   {
 388:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #endif
 389:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****     pHandle->bElToMecRatio = bPP;
 412              		.loc 1 389 5 view .LVU111
 413              		.loc 1 389 28 is_stmt 0 view .LVU112
 414 0000 4170     		strb	r1, [r0, #1]
 390:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #ifdef NULL_PTR_CHECK_SPD_POS_FBK
 391:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c ****   }
 392:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** #endif
 393:MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Src/speed_pos_fdbk.c **** }
 415              		.loc 1 393 1 view .LVU113
 416 0002 7047     		bx	lr
 417              		.cfi_endproc
 418              	.LFE1097:
 420              		.text
 421              	.Letext0:
 422              		.file 2 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10.3-2021.10
 423              		.file 3 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10.3-2021.10
 424              		.file 4 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_ll_tim.h"
 425              		.file 5 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_ll_dma.h"
 426              		.file 6 "MCSDK_v6.2.1-Full/MotorControl/MCSDK/MCLib/Any/Inc/speed_pos_fdbk.h"
ARM GAS  C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s 			page 16


DEFINED SYMBOLS
                            *ABS*:00000000 speed_pos_fdbk.c
C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s:20     .text.SPD_GetElAngle:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s:27     .text.SPD_GetElAngle:00000000 SPD_GetElAngle
C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s:46     .text.SPD_GetMecAngle:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s:53     .text.SPD_GetMecAngle:00000000 SPD_GetMecAngle
C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s:71     .text.SPD_GetAvrgMecSpeedUnit:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s:78     .text.SPD_GetAvrgMecSpeedUnit:00000000 SPD_GetAvrgMecSpeedUnit
C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s:96     .text.SPD_GetElSpeedDpp:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s:103    .text.SPD_GetElSpeedDpp:00000000 SPD_GetElSpeedDpp
C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s:121    .text.SPD_GetInstElSpeedDpp:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s:128    .text.SPD_GetInstElSpeedDpp:00000000 SPD_GetInstElSpeedDpp
C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s:146    .text.SPD_Check:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s:153    .text.SPD_Check:00000000 SPD_Check
C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s:180    .text.SPD_IsMecSpeedReliable:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s:187    .text.SPD_IsMecSpeedReliable:00000000 SPD_IsMecSpeedReliable
C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s:333    .text.SPD_GetS16Speed:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s:340    .text.SPD_GetS16Speed:00000000 SPD_GetS16Speed
C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s:372    .text.SPD_GetElToMecRatio:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s:379    .text.SPD_GetElToMecRatio:00000000 SPD_GetElToMecRatio
C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s:397    .text.SPD_SetElToMecRatio:00000000 $t
C:\Users\ep_ygh\AppData\Local\Temp\ccqJjdkL.s:404    .text.SPD_SetElToMecRatio:00000000 SPD_SetElToMecRatio

NO UNDEFINED SYMBOLS
